var localStorageSupported=function(){try{return localStorage.setItem("foo","bar"),localStorage.removeItem("foo"),!0}catch(e){return!1}}();!function(){"use strict";var e="dash";if(localStorageSupported){var t=localStorage.getItem("theme");t&&"undefined"!=t&&(e=t)}var a=document.createElement("link");a.setAttribute("id","theme"),a.setAttribute("rel","stylesheet"),a.setAttribute("href","styles/"+e+".css"),document.getElementsByTagName("head")[0].appendChild(a),angular.module("devops-dashboard",["ngAnimate","ngSanitize","ngRoute","devops-dashboard.core","ui.bootstrap","fitText","angular-chartist","ngCookies","validation.match"]).config(["$routeProvider",function(e){e.when("/dashboard/:id",{templateUrl:"app/dashboard/views/dashboard.html",controller:"DashboardController",controllerAs:"ctrl",resolve:{dashboard:["$route","dashboardData",function(e,t){return t.detail(e.current.params.id)}]}}).when("/admin",{templateUrl:"app/dashboard/views/admin.html",controller:"AdminController",controllerAs:"ctrl"}).when("/site",{templateUrl:"app/dashboard/views/site.html",controller:"SiteController",controllerAs:"ctrl"}).when("/",{templateUrl:"app/dashboard/views/login.html",controller:"LoginController",controllerAs:"login"}).when("/signup",{templateUrl:"app/dashboard/views/signup.html",controller:"SignupController",controllerAs:"signup"}).otherwise({redirectTo:"/"})}])}(),function(){"use strict";function e(){return{restrict:"EA",link:t}}function t(e,t){function a(){t[0].style.height=n[0].offsetHeight/2+"px"}var n=t.children(".ct-wrapper");t.css("overflow","hidden"),a(),angular.element(window).on("resize",a)}angular.module("devops-dashboard").directive("guageContainer",e)}(),function(){"use strict";var e=angular.module("devops-dashboard"),t=["buildsPerDay","averageBuildDuration","latestBuilds","totalBuilds"];_(t).forEach(function(t){e.directive(t,function(){return{restrict:"E",templateUrl:"components/widgets/build/directives/"+t+".html"}})})}(),function(e,t,a,n){"use strict";a.module("fitText",[]).value("config",{debounce:!1,delay:250,min:n,max:n}).directive("fitText",["$timeout","config","fitTextConfig",function(t,n,i){return{restrict:"A",scope:!0,link:function(o,s,r){a.extend(n,i.config);var l=(r.fitText?a.element(s[0].querySelectorAll(r.fitText)):s).css({display:"inline-block",whiteSpace:"nowrap",lineHeight:"1"}),d=r.fitTextCompressor||1,c=r.fitTextMin||n.min||Number.NEGATIVE_INFINITY,u=r.fitTextMax||n.max||Number.POSITIVE_INFINITY,p=function(){t(function(){for(var e=null,t=0;t<l.length;t++){var a=l[t],n=a.parentNode,i=a.offsetHeight/a.offsetWidth,o=Math.max(Math.min(n.offsetWidth*i*d,parseFloat(u)),parseFloat(c));!isNaN(i)&&(null===e||e>o)&&(e=o)}l.css("font-size",e+"px")},50)};p();for(var m=0;m<l.length;m++){var g=l[m];o.$watch(function(){return g.innerText},p)}n.debounce?a.element(e).bind("resize",n.debounce(function(){o.$apply(p)},n.delay)):a.element(e).bind("resize",function(){o.$apply(p)})}}}]).provider("fitTextConfig",function(){var e=this;return this.config={},this.$get=function(){var t={};return t.config=e.config,t},this})}(window,document,angular),function(){var e,t,a,n,i,o,s;o=1e3,i=6e4,a=36e5,e=864e5,s=6048e5,t={seconds:{"short":"s","long":" sec"},minutes:{"short":"m","long":" min"},hours:{"short":"h","long":" hr"},days:{"short":"d","long":" day"}},(n=function(n){var r;return r=function(r,l,d){var c,u,p,m;if(c=Math.abs(this.diff(n())),p=null,u=null,o>=c)p="seconds",u=1;else if(i>c)p="seconds";else if(a>c)p="minutes";else if(e>c)p="hours";else{if("short"!==r)return this.format("MMM D");if(!(s>c))return this.format("MMM D");p="days"}return u&&p||(u=n.duration(c)[p]()),m=p=t[p][r],"long"===r&&u>1&&(m+="s"),(d+" "+u+m+" "+l).trim()},n.fn.dashLong=function(e,t){return r.call(this,"long",e||"",t||"")},n.fn.dash=n.fn.dashShort=function(e,t){return r.call(this,"short",e||"",t||"")},n})(moment)}.call(this),function(){"use strict";angular.module("devops-dashboard.core",[])}(),function(){"use strict";function e(){return{$get:t,register:a}}function t(){return{getWidgets:n,getWidget:i}}function a(e,t){if(e=e.toLowerCase(),o[e])throw new Error(e+" already registered!");if(!t.view||!t.view.controller||!t.view.templateUrl)throw new Error(e+" must be registered with the controller, and templateUrl values defined");o[e]=t}function n(){return o}function i(e){return e=e.toLowerCase(),o[e]}var o={};angular.module("devops-dashboard.core").provider("widgetManager",e)}(),function(){"use strict";function e(e){function t(t){return e.get(localTesting?a:n,{params:t}).then(function(e){return e.data})}var a="test-data/test_suite_detail.json",n="/api/quality/test/";return{details:t}}angular.module("devops-dashboard.core").factory("testSuiteData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t,a,n){return e.get(n).then(function(e){return console.log("Data="+JSON.stringify(e.data)),e.data})}function a(a,o){var s={username:a,password:o};return localTesting?(console.log("In local testing"),t(a,o,n)):e.post(i,s).then(function(e){return e.data})}var n="test-data/signup_detail.json",i="/api/registerUser/";return{signup:a}}angular.module("devops-dashboard.core").factory("signupData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(e){return u+e+"/"}function a(e){return t(e)+"service/"}function n(e){return t(e)+"dependent-service/"}function i(){return e.get(localTesting?g:p).then(function(e){return e.data})}function o(t){return e.get(localTesting?m:a(t)).then(function(e){return e.data})}function s(t,n){return e.post(localTesting?m:a(t),JSON.stringify(n)).then(function(e){return e.data})}function r(t,n){n=angular.copy(n);var i=n.id;return i&&delete n.id,n.status=f[n.status]||n.status,e.put(localTesting?m:a(t)+i,n).then(function(e){return e.data})}function l(t,n){return e.delete(localTesting?m:a(t)+n).then(function(e){return e.data})}function d(t,a){return e.post(localTesting?m:n(t)+a,{}).then(function(e){return e.data})}function c(t,a){return e.delete(localTesting?m:n(t)+a).then(function(e){return e.data})}var u="/api/dashboard/",p="/api/service/",m="test-data/monitor.json",g="test-data/monitor_config.json",f={1:"Ok",2:"Warning",3:"Alert"};return{details:o,search:i,createService:s,updateService:r,deleteService:l,createDependentService:d,deleteDependentService:c}}angular.module("devops-dashboard.core").factory("monitorData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t,a,n){return e.get(n).then(function(e){return console.log("Data="+JSON.stringify(e.data)),e.data})}function a(a,o){var s={username:a,password:o};return localTesting?(console.log("In local testing"),t(a,o,n)):e.post(i,s).then(function(e){return e.data})}var n="test-data/login_detail.json",i="/api/authenticateUser/";return{login:a}}angular.module("devops-dashboard.core").factory("loginData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t,a){return e.get(localTesting?d:c+a+l+t).then(function(e){return e.data})}function a(t,a){return e.get(localTesting?u:p+a+l+t).then(function(e){return e.data})}function n(t,a){return e.get(localTesting?m:g+a+l+t).then(function(e){return e.data})}function i(t,a){return e.get(localTesting?f:v+a+l+t).then(function(e){return e.data})}function o(t,a){return e.get(localTesting?h:b+a+l+t).then(function(e){return e.data})}function s(){return e.get(localTesting?w:y).then(function(e){return e.data})}function r(t){return e.get(localTesting?C:D+t).then(function(e){return e.data})}var l="?component=",d="http://localhost:8080/api/feature/estimates/total/Team:9933916?component=552e7b21c44a49be6261d54a",c="/api/feature/estimates/total/",u="http://localhost:8080/api/feature/estimates/wip/Team:9933916?component=552e7b21c44a49be6261d54a",p="/api/feature/estimates/wip/",m="http://localhost:8080/api/feature/estimates/done/Team:9933916?component=552e7b21c44a49be6261d54a",g="/api/feature/estimates/done/",f="http://localhost:8080/api/feature/estimates/super/Team:9933916?component=552e7b21c44a49be6261d54a",v="/api/feature/estimates/super/",h="http://localhost:8080/api/iteration/Team:9933916?component=552e7b21c44a49be6261d54a",b="/api/iteration/",w="http://localhost:8080/api/collector/item/type/ScopeOwner",y="/api/collector/item/type/ScopeOwner",C="http://localhost:8080/api/collector/item/552ecefac44af4d37f321a6e",D="/api/collector/item/";return{total:t,wip:a,done:n,featureWip:i,sprint:o,teams:s,teamByCollectorItemId:r}}angular.module("devops-dashboard.core").factory("featureData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t){return e.get(localTesting?a:n+t).then(function(e){return e.data})}var a="test-data/deploy_detail.json",n="/api/deploy/status/";return{details:t}}angular.module("devops-dashboard.core").factory("deployData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t){return e.get(t).then(function(e){return e.data})}function a(){return t(localTesting?d:p)}function n(e){return t(localTesting?u:m+"/"+e)}function i(e){return t(localTesting?u:g+"/"+e)}function o(e){return t(localTesting?c:p+"/"+e)}function s(t){return e.post(p,t).then(function(e){return e.data})}function r(t){return e.delete(p+"/"+t).then(function(e){return e.data})}function l(t,a){a=angular.copy(a);var n=a.id;n&&delete a.id;var i=n?e.put(p+"/"+t+"/widget/"+n,a):e.post(p+"/"+t+"/widget",a);return i.then(function(e){return e.data})}var d="test-data/dashboard_search.json",c="test-data/dashboard_detail.json",u="test-data/dashboard_owned.json",p="/api/dashboard",m="/api/dashboard/mydashboard",g="/api/dashboard/myowner";return{search:a,mydashboard:n,myowner:i,detail:o,create:s,"delete":r,upsertWidget:l}}angular.module("devops-dashboard.core").factory("dashboardData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t){return e.get(o+t).then(function(e){return e.data})}function a(t){return e.post(i,t)}function n(t){return e.get(s+t).then(function(e){return e.data})}var i="/api/collector/item",o="/api/collector/item/type/",s="/api/collector/type/";return{itemsByType:t,createCollectorItem:a,collectorsByType:n}}angular.module("devops-dashboard.core").factory("collectorData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t){return e.get(localTesting?a:n,{params:t}).then(function(e){return e.data})}var a="test-data/commit_detail.json",n="/api/commit";return{details:t}}angular.module("devops-dashboard.core").factory("codeRepoData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t){return e.get(localTesting?n:o,{params:t}).then(function(e){return e.data})}function a(t){return e.get(localTesting?i:s,{params:t}).then(function(e){return e.data})}var n="test-data/ca_detail.json",i="test-data/ca-security.json",o="/api/quality/static-analysis",s="/api/quality/security-analysis";return{staticDetails:t,securityDetails:a}}angular.module("devops-dashboard.core").factory("codeAnalysisData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t){return e.get(localTesting?a:n,{params:t}).then(function(e){return e.data})}var a="test-data/build_detail.json",n="/api/build/";return{details:t}}angular.module("devops-dashboard.core").factory("buildData",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,a,n){function i(){n.open({controller:"RepoDetailController",controllerAs:"detail",templateUrl:"components/widgets/repo/detail.html",size:"lg",resolve:{commits:function(){return s.commits}}})}function o(e){function t(e){return e.setHours(0,0,0,0),e}var a=[];_(e).sortBy("timestamp").groupBy(function(e){return moment(e.scmCommitTimestamp).format("L")}).forEach(function(e){a.push(e.length)}),s.commitChartData.labels=[moment().subtract(14,"days").format("MMM DD"),moment().subtract(7,"days").format("MMM DD"),moment().format("MMM DD")],s.commitChartData.series=[a];var n=t(new Date),i=t(new Date),o=t(new Date);i.setDate(i.getDate()-7),o.setDate(o.getDate()-14);var r=0,l=[],d=0,c=[],u=0,p=[];_(e).forEach(function(e){e.scmCommitTimestamp>=n.getTime()&&(r++,-1==l.indexOf(e.scmAuthor)&&l.push(e.scmAuthor)),e.scmCommitTimestamp>=i.getTime()&&(d++,-1==c.indexOf(e.scmAuthor)&&c.push(e.scmAuthor)),e.scmCommitTimestamp>=o.getTime()&&(u++,s.commits.push(e),-1==p.indexOf(e.scmAuthor)&&p.push(e.scmAuthor))}),s.lastDayCommitCount=r,s.lastDayContributorCount=l.length,s.lastSevenDaysCommitCount=d,s.lastSevenDaysContributorCount=c.length,s.lastFourteenDaysCommitCount=u,s.lastFourteenDaysContributorCount=p.length}var s=this;s.commitChartOptions={plugins:[Chartist.plugins.gridBoundaries(),Chartist.plugins.lineAboveArea(),Chartist.plugins.pointHalo(),Chartist.plugins.ctPointLabels({textAnchor:"middle"})],showArea:!0,lineSmooth:!1,fullWidth:!0,chartPadding:7,axisY:{offset:30,showGrid:!0,showLabel:!0,labelInterpolationFnc:function(e){return Math.round(100*e)/100}}},s.commitChartData={labels:[],series:[]},s.commits=[],s.showDetail=i,s.load=function(){var n=e.defer(),i={componentId:t.widgetConfig.componentId,numberOfDays:14};return a.details(i).then(function(e){o(e.result),n.resolve(e.lastUpdated)}),n.promise}}angular.module("devops-dashboard").controller("RepoViewController",e),e.$inject=["$q","$scope","codeRepoData","$modal"]}(),function(){"use strict";function e(e,t){a=t,e.register("repo",n)}function t(e){return localTesting||e.id?a.READY:a.CONFIGURE}var a,n={view:{defaults:{title:"Code Repo"},controller:"RepoViewController",controllerAs:"repoView",templateUrl:"components/widgets/repo/view.html"},config:{controller:"RepoConfigController",controllerAs:"repoConfig",templateUrl:"components/widgets/repo/config.html"},getState:t};angular.module("devops-dashboard").config(e),e.$inject=["widgetManagerProvider","WIDGET_STATE"]}(),function(){"use strict";function e(e,t,a){function n(){e.dismiss("close")}var i=this;i.statuses=a,i.commits=t,i.close=n}angular.module("devops-dashboard").controller("RepoDetailController",e),e.$inject=["$modalInstance","commits","DASH_STATUS"]}(),function(){"use strict";function e(e,t,a){function n(e){console.log(e),r.collectors=e}function i(e,t,a){if(r.submitted=!0,e&&r.collectors.length)if("GitHub (public)"==a)o(t,a,r.gitBranch).then(s);else if("GitHub (private)"==a){var n="http://".concat(r.username).concat(":").concat(r.password).concat("@"),i="https://".concat(r.username).concat(":").concat(r.password).concat("@"),l=t.replace("http://",n),d=l.replace("https://",i);o(d,a,r.gitBranch).then(s)}else o(t,a.name,r.gitBranch).then(s)}function o(e,t,n){var i={};return-1!=t.indexOf("GitHub")?i={collectorId:_.findWhere(r.collectors,{name:"GitHub"}).id,options:{scm:"Github",url:e,branch:n}}:(console.log(t),i={collectorId:_.findWhere(r.collectors,{name:"Subversion"}).id,options:{scm:"Subversion",url:e}}),a.createCollectorItem(i)}function s(a){var n={name:"repo",options:{id:l.options.id,scm:r.repoOption,url:r.repoUrl,branch:r.gitBranch},componentId:e.dashboard.application.components[0].id,collectorItemId:a.data.id};t.close(n)}var r=this,l=e.widgetConfig;if(r.repoOptions=[{name:"GitHub",value:"GitHub"},{name:"Subversion",value:"Subversion"}],console.log(JSON.stringify(l)),console.log(JSON.stringify(l.options.id)),l.options.scm){for(var d,c=0;c<r.repoOptions.length;c++)r.repoOptions[c].name==l.options.scm.name&&(d=c);r.repoOption=r.repoOptions[d]}else r.repoOption="";r.gitBranch=l.options.branch,r.username="",r.password="",r.submitted=!1,r.collectors=[],r.repoUrl=l.options.url,r.submit=i,a.collectorsByType("scm").then(n)}angular.module("devops-dashboard").controller("RepoConfigController",e),e.$inject=["modalData","$modalInstance","collectorData"]}(),function(){"use strict";function e(e,t,a,n){function i(t){var n=!1,i=e.widgetConfig.options.mappings,o={},l=[];_(s.environmentKeys).forEach(function(e){_(t).where(function(t){return i[e]&&i[e].toLowerCase()==t.name.toLowerCase()}).forEach(function(t){_(t.units).forEach(function(t){var a=t.name.toLowerCase();if(!o[a]){var i={};_(s.environmentKeys).forEach(function(e){i[e]={version:"",lastUpdate:""}}),o[a]={name:t.name,environments:i}}var r=!t.deployed;r||(r=_(t.servers).where(function(e){return!e.online}).value().length>0),r&&-1==l.indexOf(e)&&l.push(e),n=!0,o[a].environments[e]={version:t.version,lastUpdate:t.lastUpdated,somethingDown:r}})})}),n?(r=l,s.units=o):e.setState(a.CONFIGURE)}function o(e){return-1!=r.indexOf(e)}var s=this,r=[],l=["dev","qa","int","perf","prod"];s.load=function(){var o=function(e){var t=0;for(var a in e)-1!=l.indexOf(a)&&t++;return t}(e.widgetConfig.options.mappings);if(0!==o){var s=n.defer();return t.details(e.dashboard.application.components[0].id).then(function(e){i(e.result),s.resolve(e.lastUpdated)}),s.promise}e.widgetConfig.options.mappings={},e.setState(a.CONFIGURE)},s.environmentKeys=[],_(l).forEach(function(t){e.widgetConfig.options.mappings[t]&&s.environmentKeys.push(t)});var d=[12,12,6,4,3,"fifths",2];s.colGridSize=d[s.environmentKeys.length],s.isDown=o}angular.module("devops-dashboard").controller("pipelineViewController",e),e.$inject=["$scope","deployData","WIDGET_STATE","$q"]}(),function(){"use strict";function e(e,t){a=t,e.register("pipeline",n)}function t(e){if(e.options&&e.options.mappings){var t=!1;if(_(e.options.mappings).forEach(function(e){e&&(t=!0)}),t)return a.READY}return a.CONFIGURE}var a,n={view:{defaults:{title:"pipeline"},controller:"pipelineViewController",controllerAs:"pipelineView",templateUrl:"components/widgets/pipeline/view.html"},config:{controller:"pipelineConfigController",controllerAs:"pipelineConfig",templateUrl:"components/widgets/pipeline/config.html"},getState:t};angular.module("devops-dashboard").config(e),e.$inject=["widgetManagerProvider","WIDGET_STATE"]}(),function(){"use strict";function e(e,t,a){function n(t){o.environments=_(t.result).map(function(e){return{name:e.name,value:e.name.toLowerCase()}}).value(),o.mappings={};for(var a in e.widgetConfig.options.mappings){var n=e.widgetConfig.options.mappings[a];_(o.environments).where({value:n}).value().length&&(o.mappings[a]=n)}o.environmentsDropdownDisabled=!1}function i(){e.widgetConfig.name="pipeline",e.widgetConfig.options.mappings=o.mappings;var t=angular.copy(e.widgetConfig);a.close(t)}var o=this;o.environmentsDropdownDisabled=!0,o.environmentMappings=[{key:"dev",value:null},{key:"qa",value:null},{key:"int",value:null},{key:"perf",value:null},{key:"prod",value:null}],e.widgetConfig.options.mappings&&_(o.environmentMappings).forEach(function(t){e.widgetConfig.options.mappings[t.key]&&(t.value=e.widgetConfig.options.mappings[t.key])}),o.save=i,t.details(e.dashboard.application.components[0].id).then(n)}angular.module("devops-dashboard").controller("pipelineConfigController",e),e.$inject=["modalData","deployData","$modalInstance"]}(),function(){"use strict";function e(e,t,a,n,i){function o(e){return e.message&&e.message.length}function s(i){n.open({templateUrl:"monitorStatus.html",controller:"monitorStatusController",controllerAs:"ctrl",scope:e,size:"md",resolve:{statuses:function(){return a},service:function(){return{id:i.id,status:i.status,message:i.message}}}}).result.then(function(a){a&&(_(c.services).forEach(function(e,t){e.id==a.id&&(c.services[t]=angular.extend(e,a))}),t.updateService(e.dashboard.id,a))})}function r(e){var t={doWork:l};t.doWork(e,a,d)}function l(e,t,a){function n(e,a){return _.map(e,function(e){var n=e.name;switch(a&&e.applicationName&&(n=e.applicationName+": "+n),e.status&&("string"==typeof e.status||e.status instanceof String)&&(e.status=e.status.toLowerCase()),e.status){case"ok":e.status=t.PASS;break;case"warning":e.status=t.WARN;break;case"alert":e.status=t.FAIL}return{id:e.id,name:n,status:e.status,message:e.message}})}a({services:n(e.services,!1),dependencies:n(e.dependencies,!0)})}function d(e){c.services=e.services,c.dependencies=e.dependencies}var c=this;c.statuses=a,c.services=[],c.dependencies=[],c.openStatusWindow=s,c.hasMessage=o,c.load=function(){var a=i.defer();return t.details(e.dashboard.id).then(function(e){r(e.result),a.resolve(e.lastUpdated)}),a.promise}}function t(e,t,a){function n(e){o.service.status=e}function i(){a.close(o.service)}var o=this;o.service=e,o.statuses=t,o.setStatus=n,o.submit=i}angular.module("devops-dashboard").controller("monitorViewController",e).controller("monitorStatusController",t),e.$inject=["$scope","monitorData","DASH_STATUS","$modal","$q"],t.$inject=["service","statuses","$modalInstance"]}(),function(){"use strict";function e(e,t){a=t,e.register("monitor",n)}function t(e){return localTesting?a.READY:e.id?a.READY:a.CONFIGURE}var a,n={view:{defaults:{title:"Monitor"},controller:"monitorViewController",controllerAs:"ctrl",templateUrl:"components/widgets/monitor/view.html"},config:{controller:"monitorConfigController",controllerAs:"ctrl",templateUrl:"components/widgets/monitor/config.html"},getState:t};angular.module("devops-dashboard").config(e),e.$inject=["widgetManagerProvider","WIDGET_STATE"]}(),function(){"use strict";function e(e,t,a,n,i){function o(e){function t(e,t){function a(e){return e}function n(e){if(e)for(var t=0;t<e.length;t++){var a=e[t];e[t].name=a.applicationName+": "+a.name}return e}t({dashboardServices:a(e.result.services),dependentServices:n(e.result.dependencies)})}var a={getServices:t};a.getServices(e,r)}function s(e){var t=i.dashboard.application.name;f.allServices=_(e).filter(function(e){return e.applicationName!=t}).map(function(e){return{id:e.id,name:e.applicationName+": "+e.name}}).value()}function r(e){f.dashboardServices=e.dashboardServices,f.dependentServices=e.dependentServices}function l(e){v.push(f.dashboardServices.splice(e,1)[0])}function d(){f.newDashboardServices.push({name:""})}function c(e){f.newDashboardServices.splice(e,1)}function u(e){h.push(f.dependentServices.splice(e,1)[0])}function p(){f.newDependentServices.push({selectedItem:{}})}function m(e){f.newDependentServices.splice(e,1)}function g(){function e(e){return _(e).where(function(e){return e.name&&e.name.length})}var o=i.dashboard.id,s=[];_(v).forEach(function(e){s.push(n.deleteService(o,e.id))}),_(h).forEach(function(e){s.push(n.deleteDependentService(o,e.id))}),e(f.newDashboardServices).uniq(function(e){return e.name.toLowerCase()}).forEach(function(e){s.push(n.createService(o,e.name))}),e(_.map(f.newDependentServices,function(e){return e.selectedItem})).forEach(function(e){s.push(n.createDependentService(o,e.id))}),t.all(s).then(function(e){var t={name:"monitor",options:{id:i.widgetConfig.options.id}};a.close(e.length?t:null)})}var f=this;n.details(i.dashboard.id).then(o),n.search().then(s);var v=[],h=[];f.appName=i.dashboard.application.name,f.newDashboardServices=[],f.newDependentServices=[],f.dashboardServices=[],f.dependentServices=[],f.allServices=[],f.save=g,f.deleteDashboardService=l,f.addNewDashboardService=d,f.deleteNewDashboardService=c,f.deleteDependentService=u,f.addNewDependentService=p,f.deleteNewDependentService=m}angular.module("devops-dashboard").controller("monitorConfigController",e),e.$inject=["$scope","$q","$modalInstance","monitorData","modalData"]}(),function(){"use strict";function e(e,t){function a(e){p.totalStoryPoints=e.result[0].sEstimate}function n(e){p.wipStoryPoints=e.result[0].sEstimate}function i(e){p.doneStoryPoints=e.result[0].sEstimate}function o(e){for(var t=[],a=0;a<e.result.length;a++)t.push(e.result[a]);p.showFeatureLimitButton=e.result.length<=4?!1:!0,p.epicStoryPoints=t.sort(s).reverse()}function s(e,t){return parseInt(e.sEstimate)<parseInt(t.sEstimate)?-1:parseInt(e.sEstimate)>parseInt(t.sEstimate)?1:0}function r(e){if(p.sprintName=void 0===e.result[0].sSprintID?"[No Sprint Available]":e.result[0].sSprintName,void 0===e.result[0].sSprintID)p.daysTilEnd=moment(m).dash(),p.daysTilEnd="[N/A]";else{var t=new Date(e.result[0].sSprintEndDate);if(m>t)p.daysTilEnd="[Ended]";else{var a=moment(t).fromNow();p.daysTilEnd=a.substr(3)}}}function l(){var e=p.totalStoryPoints,t=p.wipStoryPoints,a=p.doneStoryPoints,n=p.daysTilEnd,i=0;return i=(e-t-a)/(a+.01)*100,33.3>=i?n>5?"pass":5>=n&&n>3?"pass":"warn":i>33.3&&66.6>=i?n>5?"warn":5>=n&&n>3?"warn":"fail":n>5?"warn":5>=n&&n>3?"fail":"fail"}function d(){var e=p.totalStoryPoints,t=p.wipStoryPoints,a=p.doneStoryPoints,n=p.daysTilEnd,i=0;return i=t/(e-a-t+.01)*100,i>=100?n>5?"pass":5>=n&&n>3?"pass":"warn":n>5?"warn":5>=n&&n>3?"fail":"fail"}function c(){var e=p.totalStoryPoints,t=(p.wipStoryPoints,p.doneStoryPoints),a=p.daysTilEnd,n=0;return n=t/(e+.01)*100,33.3>=n?a>5?"warn":5>=a&&a>3?"fail":"fail":n>33.3&&66.6>=n?a>5?"warn":5>=a&&a>3?"warn":"fail":a>5?"pass":5>=a&&a>3?"pass":"warn"}function u(){var e=4,t=99;p.featureLimit=p.featureLimit>e?e:t}var p=this,m=new Date(_.now()),g=e.widgetConfig.options.teamId;p.teamName=e.widgetConfig.options.teamName,p.sprintName=null,p.daysTilEnd=null,p.totalStoryPoints=null,p.wipStoryPoints=null,p.doneStoryPoints=null,p.epicStoryPoints=null,p.totalStoryPointEvaluator=l,p.wipStoryPointEvaluator=d,p.doneStoryPointEvaluator=c,p.setFeatureLimit=u,p.load=function(){t.total(e.widgetConfig.componentId,g).then(a),t.wip(e.widgetConfig.componentId,g).then(n),t.done(e.widgetConfig.componentId,g).then(i),t.featureWip(e.widgetConfig.componentId,g).then(o),t.sprint(e.widgetConfig.componentId,g).then(r)}}angular.module("devops-dashboard").controller("featureViewController",e),e.$inject=["$scope","featureData"]}(),function(){"use strict";function e(e,t){a=t,e.register("feature",n)}function t(e){return localTesting||e.id?a.READY:a.CONFIGURE}var a,n={view:{defaults:{title:"feature"},controller:"featureViewController",templateUrl:"components/widgets/feature/view.html"},config:{controller:"featureConfigController",templateUrl:"components/widgets/feature/config.html"},getState:t};angular.module("devops-dashboard").config(e),e.$inject=["widgetManagerProvider","WIDGET_STATE"]}(),function(){"use strict";function e(e,t,a){function n(t){function a(e,t){for(var a=0;a<e.length;a++){var n=e[a],i={value:n.id,teamId:n.options.teamId,teamName:n.collector.name+" - "+n.description};l.permanentScopeOwners.push(i),null!==t&&i.value==t&&(l.selectedIndex=a)}}function n(e,t){for(var a=0;a<e.length;a++){var n=e[a],o={value:n.id,teamId:n.options.teamId,teamName:n.collector.name+" - "+n.description};i.push(o),null!==t&&o.value==t&&(l.selectedIndex=a)}l.scopeOwners=i,l.permanentScopeOwners=i,void 0===l.selectedIndex||null===l.selectedIndex?l.collectorItemId="":(l.valid=!0,l.collectorItemId=l.scopeOwners[l.selectedIndex])}var i=[],s=e.dashboard.application.components[0].collectorItems.ScopeOwner,r=s?s[0].id:null;""!==l.collectorId?(i=n(t,r),o()):(a(t,r),o()),l.toolsDropdownPlaceholder="Select a scope owner",l.toolsDropdownDisabled=!1}function i(t){function a(e,t){for(var a=0;a<e.length;a++){var n=e[a],i={id:n.id,value:n.name};l.featureTypeOptions.push(i),null!==t&&i.id==t&&(l.selectedTypeIndex=a)}l.typeDropdownPlaceholder="Select feature data source",l.typeDropdownDisabled=!1,void 0===l.selectedTypeIndex||null===l.selectedTypeIndex?(l.collectorId="",l.hideScopeOwnerDropDown=!0):(l.valid=!0,l.collectorId=l.featureTypeOptions[l.selectedTypeIndex],l.hideScopeOwnerDropDown=!1)}l.collectors=t;var n=e.dashboard.application.components[0].collectorItems.ScopeOwner,i=n?n[0].collectorId:null;a(t,i)}function o(){for(var e=[],t=0;t<l.permanentScopeOwners.length;t++){var a=l.permanentScopeOwners[t].teamName.substr(0,l.permanentScopeOwners[t].teamName.indexOf(" "));a===l.collectorId.value&&e.push(l.permanentScopeOwners[t])}l.scopeOwners=e,l.hideScopeOwnerDropDown=""===l.collectorId?!0:!1}function s(e,t){l.submitted=!0,e&&l.collectors.length&&r(t)}function r(){var a={name:"feature",options:{id:d.options.id,teamName:l.collectorItemId.teamName,teamId:l.collectorItemId.teamId},componentId:e.dashboard.application.components[0].id,collectorItemId:l.collectorItemId.value};t.close(a)}var l=this,d=e.widgetConfig;l.toolsDropdownPlaceholder="Loading Teams / Projects ...",l.toolsDropdownDisabled=!0,l.typeDropdownPlaceholder="Loading Feature Data Sources ...",l.typeDropdownDisabled=!0,l.submitted=!1,l.hideScopeOwnerDropDown=!0,l.evaluateTypeSelection=o,l.teamId=d.options.teamId,l.teamName=d.options.teamName,l.featureType=l.featureTypeOption,l.collectorItemId=null,l.collectors=[],l.scopeOwners=[],l.permanentScopeOwners=[],l.submit=s,l.featureTypeOption="",l.featureTypeOptions=[],a.collectorsByType("scopeowner").then(i),a.itemsByType("scopeowner").then(n)}angular.module("devops-dashboard").controller("featureConfigController",e),e.$inject=["modalData","$modalInstance","collectorData"]}(),function(){"use strict";function e(e,t,a,n,i,o){function s(){var t=i.defer();return a.details(e.widgetConfig.componentId).then(function(e){l(e.result),t.resolve(e.lastUpdated)}),t.promise}function r(t){o.open({controller:"DeployDetailController",controllerAs:"detail",templateUrl:"components/widgets/deploy/detail.html",size:"lg",resolve:{environment:function(){return t},collectorName:function(){return e.dashboard.application.components[0].collectorItems.Deployment[0].collector.name}}})}function l(e){function t(e,t){var a=!0;_(e).forEach(function(e){var t=_(e.units).where({deployed:!1}).value().length;e.units&&e.units.length==t&&(a=!1)}),t(a)}function a(e,t){var a=_(e).map(function(e){function t(e){return _(e).where({deployed:!1}).value().length}function a(e,t){var a=0;return _(e).forEach(function(e){a+=_(e.servers).where({online:t}).value().length}),a}function n(e){return _.max(e,function(e){return e.lastUpdated}).lastUpdated}return{name:e.name,url:e.url,units:e.units,serverUpCount:a(e.units,!0),serverDownCount:a(e.units,!1),failedComponents:t(e.units),lastUpdated:n(e.units)}}).value();t({environments:a})}var n={getEnvironments:a,getIsDefaultState:t};n.getIsDefaultState(e,d),n.getEnvironments(e,c)}function d(t){e.display=t?n.DEFAULT:n.ERROR}function c(e){u.environments=e.environments}var u=this;u.environments=[],u.statuses=t,u.load=s,u.showDetail=r}angular.module("devops-dashboard").controller("deployViewController",e),e.$inject=["$scope","DASH_STATUS","deployData","DISPLAY_STATE","$q","$modal"]}(),function(){"use strict";function e(e,t){a=t,e.register("deploy",n)}function t(e){return localTesting||e.id?a.READY:a.CONFIGURE}var a,n={view:{defaults:{title:"Deploy"},controller:"deployViewController",controllerAs:"deployView",templateUrl:"components/widgets/deploy/view.html"},config:{controller:"deployConfigController",controllerAs:"deployConfig",templateUrl:"components/widgets/deploy/config.html"},getState:t};angular.module("devops-dashboard").config(e),e.$inject=["widgetManagerProvider","WIDGET_STATE"]}(),function(){"use strict";function e(e,t,a,n){function i(){e.dismiss("close")}var o=this;o.statuses=n,o.environment=t,o.collectorName=a,o.close=i}angular.module("devops-dashboard").controller("DeployDetailController",e),e.$inject=["$modalInstance","environment","collectorName","DASH_STATUS"]}(),function(){"use strict";function e(e,t,a){function n(t){function a(e,t,a){var n=null,i=_(e).map(function(e,a){return e.id==t&&(n=a),{value:e.id,name:e.options.applicationName}}).value();a({deploys:i,selectedIndex:n})}var n={getDeploys:a},o=e.dashboard.application.components[0].collectorItems.Deployment,s=o?o[0].id:null;n.getDeploys(t,s,i)}function i(e){s.jobDropdownDisabled=!1,s.jobDropdownPlaceholder="Select your application",s.deployJobs=e.deploys,null!==e.selectedIndex&&(s.deployJob=e.deploys[e.selectedIndex])}function o(t){if(s.submitted=!0,t){var n=document.configForm,i={name:"deploy",options:{id:r.options.id},componentId:e.dashboard.application.components[0].id,collectorItemId:n.collectorItemId.value};a.close(i)}}var s=this,r=e.widgetConfig;s.deployJobs=[],s.jobDropdownDisabled=!0,s.jobDropdownPlaceholder="Loading...",s.submitted=!1,s.submit=o,t.itemsByType("deployment").then(n)}angular.module("devops-dashboard").controller("deployConfigController",e),e.$inject=["modalData","collectorData","$modalInstance"]}(),function(){"use strict";function e(e,t,a,n,i){function o(e){var t=n.defer(),a=_.isEmpty(e.result)?{}:e.result[0];return p.versionNumber=a.version,p.rulesCompliance=d(a.metrics,"violations_density"),p.technicalDebt=d(a.metrics,"sqale_index"),p.technicalDebt.formattedValue=c(p.technicalDebt.value),p.linesofCode=d(a.metrics,"ncloc"),p.issues=[d(a.metrics,"blocker_violations","Blocker"),d(a.metrics,"critical_violations","Critical"),d(a.metrics,"major_violations","Major"),d(a.metrics,"violations","Issues")],p.unitTests=[d(a.metrics,"test_success_density","Success"),d(a.metrics,"test_failures","Failures"),d(a.metrics,"test_errors","Errors"),d(a.metrics,"tests","Tests")],p.lineCoverage=d(a.metrics,"line_coverage"),l(p.lineCoverage),t.resolve(e.lastUpdated),t.promise
}function s(e){var t=n.defer(),a=_.isEmpty(e.result)?{}:e.result[0];return p.securityIssues=[d(a.metrics,"blocker","Blocker"),d(a.metrics,"critical","Critical"),d(a.metrics,"major","Major"),d(a.metrics,"minor","Minor")],t.resolve(e.lastUpdated),t.promise}function r(e){var t=n.defer(),a=_.isEmpty(e.result)?{testSuites:[]}:e.result[0],o={failureCount:0,errorCount:0,skippedCount:0,totalCount:0},s=_.reduce(_.filter(a.testSuites,{type:"Functional"}),function(e,t){return e.failureCount+=t.failureCount,e.errorCount+=t.errorCount,e.skippedCount+=t.skippedCount,e.totalCount+=t.totalCount,e},o),r=s.totalCount-s.failureCount-s.errorCount-s.skippedCount,l=0===s.errorCount&&0===s.failureCount,d=l?100:r/s.totalCount*100;return p.functionalTests=[],p.functionalTests.push({name:"Success",formattedValue:0===s.totalCount?"-":i("number")(d,1)+"%",status:l?"Ok":"Alert",statusMessage:l?"":"Success percent < 100"}),p.functionalTests.push({name:"Failures",formattedValue:0===s.totalCount?"-":i("number")(s.failureCount,0),status:0===s.failureCount?"Ok":"Alert",statusMessage:0===s.failureCount?"":"Failure count > 0"}),p.functionalTests.push({name:"Errors",formattedValue:0===s.totalCount?"-":i("number")(s.errorCount,0),status:0===s.errorCount?"Ok":"Alert",statusMessage:0===s.errorCount?"":"Error count > 0"}),p.functionalTests.push({name:"Tests",formattedValue:0===s.totalCount?"-":i("number")(s.totalCount,0),status:"Ok",statusMessage:""}),t.resolve(e.lastUpdated),t.promise}function l(e){e.value=e.value||0,p.unitTestCoverageData={series:[e.value,100-e.value]}}function d(e,t,a){return a=a||t,angular.extend(_.findWhere(e,{name:t})||{name:a},{name:a})}function c(e){var t,a;return e?(1440>e?(t=60,a="h"):525600>e?(t=1440,a="d"):(t=525600,a="y"),Math.ceil(e/t)+a):"-"}function u(e){return e.status&&"ok"!=e.status.toLowerCase()}var p=this;p.pieOptions={donut:!0,donutWidth:20,startAngle:270,total:200,showLabel:!1},p.showStatusIcon=u,l({}),p.load=function(){var i={componentId:e.widgetConfig.componentId,max:1},l={componentId:e.widgetConfig.componentId,types:["Functional"],max:1},d={componentId:e.widgetConfig.componentId,max:1};return n.all([t.staticDetails(i).then(o),t.securityDetails(d).then(s),a.details(l).then(r)])}}angular.module("devops-dashboard").controller("CodeAnalysisViewController",e),e.$inject=["$scope","codeAnalysisData","testSuiteData","$q","$filter"]}(),function(){"use strict";function e(e,t){a=t,e.register("codeanalysis",n)}function t(e){return localTesting||e.id?a.READY:a.CONFIGURE}var a,n={view:{defaults:{title:"Quality"},controller:"CodeAnalysisViewController",controllerAs:"caWidget",templateUrl:"components/widgets/codeanalysis/view.html"},config:{controller:"CodeAnalysisConfigController",controllerAs:"caWidget",templateUrl:"components/widgets/codeanalysis/config.html"},getState:t,collectors:["codequality"]};angular.module("devops-dashboard").config(e),e.$inject=["widgetManagerProvider","WIDGET_STATE"]}(),function(){"use strict";function e(e,t,a){function n(e){var t=d.collectorItems.CodeQuality,a=_.isEmpty(t)?null:t[0].id;r.caJobs=e,r.caCollectorItem=a?_.findWhere(r.caJobs,{id:a}):null,r.caToolsDropdownPlaceholder=e.length?"Select a Code Analysis Job":"No Code Analysis Job Found"}function i(e){var t=d.collectorItems.StaticSecurityScan,a=_.isEmpty(t)?null:t[0].id;r.saJobs=e,r.saCollectorItem=a?_.findWhere(r.saJobs,{id:a}):null,r.saToolsDropdownPlaceholder=e.length?"Select a Security Analysis Job":"No Security Analysis Job Found"}function o(e){var t=d.collectorItems.Test,a=_.isEmpty(t)?null:t[0].id;r.testJobs=e,r.testCollectorItem=a?_.findWhere(r.testJobs,{id:a}):null,r.testToolsDropdownPlaceholder=e.length?"Select a Functional Test Job":"No Functional Test Jobs Found"}function s(e,t,n){var i=[];e&&i.push(e.id),t&&i.push(t.id),n&&i.push(n.id);var o={name:"codeanalysis",options:{id:l.options.id},componentId:d.id,collectorItemIds:i};a.close(o)}var r=this,l=e.widgetConfig,d=e.dashboard.application.components[0];r.caToolsDropdownPlaceholder="Loading Code Analysis Jobs...",r.saToolsDropdownPlaceholder="Loading Security Analysis Jobs...",r.testToolsDropdownPlaceholder="Loading Functional Test Jobs...",r.submit=s,t.itemsByType("codequality").then(n),t.itemsByType("staticSecurityScan").then(i),t.itemsByType("test").then(o)}angular.module("devops-dashboard").controller("CodeAnalysisConfigController",e),e.$inject=["modalData","collectorData","$modalInstance"]}(),function(){"use strict";function e(e,t,a,n,i){function o(e){"bar"===e.type&&e.value>0&&(e.group.append(new Chartist.Svg("circle",{cx:e.x2,cy:e.y2,r:7},"ct-slice")),e.y2-=7),"point"===e.type&&e.group.append(new Chartist.Svg("circle",{cx:e.x,cy:e.y,r:3},"ct-point-halo"),!0)}function s(t){function n(e,t,a){function n(){return[moment().subtract(14,"days").format("MMM DD"),moment().subtract(7,"days").format("MMM DD"),moment().format("MMM DD")]}function i(){var t=l(r(s(o(e))));return[t.passed,t.failed]}function o(e){return _.filter(e,function(e){return"Success"==e.buildStatus&&Math.floor(moment(e.endTime).endOf("day").diff(moment(new Date).endOf("day"),"days"))>=-15})}function s(e){return _.groupBy(e,function(e){return moment(e.endTime).format("L")})}function r(e){var t={};return _.forEach(e,function(e,a){t[a]||(t[a]=[]),_.forEach(e,function(e){var n=moment(e.endTime).diff(moment(e.startTime),"seconds")/60;t[a].push(n)})}),t}function l(e){for(var a=[],n=[],i=0;14>=i;i++){var o=moment(new Date).subtract(i,"days").format("L"),s=e[o];if(s&&s.length){var r=_(s).reduce(function(e,t){return e+t})/s.length;r>t?(a.push(0),n.push(r)):(a.push(r),n.push(0))}else a.push(0),n.push(0)}return{passed:a.reverse(),failed:n.reverse()}}a({labels:n(),series:i()})}function i(e,t){function a(e){return _.filter(e,function(e){return e.endTime>=s.getTime()})}function n(e){return _.filter(e,function(e){return e.endTime>=s.getTime()&&"Success"!==e.buildStatus})}function i(e){var t=[],a=new Date(s.getTime()),n=_.groupBy(e,function(e){return o(new Date(e.endTime)).getTime()});return _.times(15,function(){var e=n[a.getTime()]?n[a.getTime()].length:0;t.push(e),a.setDate(a.getDate()+1)}),t}function o(e){return e.setHours(0,0,0,0),e}var s=o(new Date);s.setDate(s.getDate()-14),t({passed:i(a(e)),failed:i(n(e))})}function o(e,t){e=_.sortBy(e,"endTime").reverse().slice(0,5),e=_.map(e,function(e){return{passed:"Success"==e.buildStatus,number:e.number,endTime:e.endTime,url:e.buildUrl}}),t(e)}function s(e,t,a){e=_.sortBy(e,"endTime").reverse().slice(0,t),e=_.where(e,function(e){return"Success"!=e.buildStatus}),a(e&&e.length>=t)}function l(e,t){function a(){return _.filter(e,function(e){return e.endTime>=s.getTime()}).length}function n(){return _.filter(e,function(e){return e.endTime>=r.getTime()}).length}function i(){return _.filter(e,function(e){return e.endTime>=l.getTime()}).length}function o(e){return e.setHours(0,0,0,0),e}var s=o(new Date),r=o(new Date),l=o(new Date);r.setDate(r.getDate()-7),l.setDate(l.getDate()-14),t({today:a(),sevenDays:n(),fourteenDays:i()})}var d={averageBuildDuration:n,buildsPerDay:i,latestBuilds:o,setDisplayToErrorState:s,totalBuilds:l};d.buildsPerDay(t,function(e){console.log(e),r.lineData.series=[{name:"success",data:e.passed},{name:"failures",data:e.failed}]}),d.latestBuilds(t,function(e){r.recentBuilds=e}),d.averageBuildDuration(t,e.widgetConfig.options.buildDurationThreshold,function(e){r.buildDurationData.labels=e.labels,r.buildDurationData.series=e.series}),d.setDisplayToErrorState(t,e.widgetConfig.options.consecutiveFailureThreshold,function(t){e.display=t?a.ERROR:a.DEFAULT}),d.totalBuilds(t,function(e){r.totalBuildsYesterday=e.today,r.totalBuildsLastWeek=e.sevenDays,r.totalBuildsLastMonth=e.fourteenDays})}var r=this,l=[];r.lineData={labels:[],series:[]},r.lineOptions={plugins:[Chartist.plugins.gridBoundaries(),Chartist.plugins.lineAboveArea(),Chartist.plugins.tooltip(),Chartist.plugins.pointHalo()],showArea:!0,lineSmooth:!1,fullWidth:!0,chartPadding:7,axisY:{offset:30,showLabel:!0,labelInterpolationFnc:function(e){return 0===e?0:Math.round(100*e)/100+""}}},r.buildDurationData={labels:[],series:[[]]},r.buildDurationOptions={plugins:[Chartist.plugins.threshold({threshold:e.widgetConfig.options.buildDurationThreshold||10}),Chartist.plugins.gridBoundaries(),Chartist.plugins.tooltip()],stackBars:!0,centerLabels:!0,axisY:{offset:30,labelInterpolationFnc:function(e){return 0===e?0:Math.round(100*e)/100+""}}},r.buildDurationEvents={draw:o},r.load=function(){var a=n.defer(),i={componentId:e.widgetConfig.componentId,numberOfDays:15};return t.details(i).then(function(e){l=e.result,s(l),a.resolve(e.lastUpdated)}),a.promise},r.open=function(e){window.open(e)},r.detail=function(t){i.open({templateUrl:"components/widgets/build/detail.html",controller:"BuildWidgetDetailController",controllerAs:"detail",size:"lg",resolve:{build:function(){return _.findWhere(l,{number:t.number})},collectorName:function(){return e.dashboard.application.components[0].collectorItems.Build[0].collector.name}}})}}angular.module("devops-dashboard").controller("BuildWidgetViewController",e),e.$inject=["$scope","buildData","DISPLAY_STATE","$q","$modal"]}(),function(){"use strict";function e(e,t){a=t,e.register("build",n)}function t(e){return localTesting||e.id&&e.options.buildDurationThreshold&&e.options.consecutiveFailureThreshold?a.READY:a.CONFIGURE}var a,n={view:{defaults:{title:"Build"},controller:"BuildWidgetViewController",controllerAs:"buildView",templateUrl:"components/widgets/build/view.html"},config:{controller:"BuildWidgetConfigController",controllerAs:"buildConfig",templateUrl:"components/widgets/build/config.html"},getState:t,collectors:["build"]};angular.module("devops-dashboard").config(e),e.$inject=["widgetManagerProvider","WIDGET_STATE"]}(),function(){"use strict";function e(e,t,a,n){function i(){return"Success"===s.build.buildStatus}function o(){t.dismiss("close")}var s=this;s.build=a,s.collectorName=n,s.buildPassed=i,s.close=o}angular.module("devops-dashboard").controller("BuildWidgetDetailController",e),e.$inject=["$scope","$modalInstance","build","collectorName"]}(),function(){"use strict";function e(e,t,a,n){function i(t){function a(e,t,a){for(var n=[],i=null,o=0;o<e.length;o++){var s=e[o],r={value:s.id,name:s.collector.name+" - "+s.description};n.push(r),null!==t&&r.value==t&&(i=o)}a({builds:n,selectedIndex:i})}var n={getBuildJobs:a},i=e.dashboard.application.components[0].collectorItems.Build,s=i?i[0].id:null;n.getBuildJobs(t,s,o)}function o(e){r.buildJobs=e.builds,r.toolsDropdownPlaceholder="Select a Build Job",r.toolsDropdownDisabled=!1,null!==e.selectedIndex&&(r.collectorItemId=r.buildJobs[e.selectedIndex])}function s(t){if(r.submitted=!0,t){var a=document.configForm,i={name:"build",options:{id:l.options.id,buildDurationThreshold:parseFloat(a.buildDurationThreshold.value),consecutiveFailureThreshold:parseFloat(a.buildConsecutiveFailureThreshold.value)},componentId:e.dashboard.application.components[0].id,collectorItemId:a.collectorItemId.value};n.close(i)}}var r=this,l=e.widgetConfig;r.toolsDropdownPlaceholder="Loading Build Jobs...",r.toolsDropdownDisabled=!0,r.buildDurationThreshold=3,r.buildConsecutiveFailureThreshold=5,r.submitted=!1,l&&(l.options.buildDurationThreshold&&(r.buildDurationThreshold=l.options.buildDurationThreshold),l.options.consecutiveFailureThreshold&&(r.buildConsecutiveFailureThreshold=l.options.consecutiveFailureThreshold)),r.submit=s,a.itemsByType("build").then(i)}angular.module("devops-dashboard").controller("BuildWidgetConfigController",e),e.$inject=["modalData","$scope","collectorData","$modalInstance"]}(),function(){"use strict";function e(){return function(e){return e?moment(e).dash("ago"):""}}angular.module("devops-dashboard.core").filter("fromNow",e)}(),function(){"use strict";function e(){return function(e){var t=moment.duration(e),a="";return t.hours()&&(a=t.hours()+"h "),t.minutes()&&(a+=t.minutes()+"m "),t.seconds()&&(a+=t.seconds()+"s "),a||(a=e+"ms"),a.trim()}}angular.module("devops-dashboard.core").filter("duration",e)}(),function(){"use strict";function e(e,t,a,n,i,o,s,r,l,d,c){function u(e,t,a,n){function o(t,a,n){e.dashboard=n,e.widgetConfig=a,e.widgetDefinition.getState?e.state=e.widgetDefinition.getState(a):t||e.widgetDefinition.config&&(e.state=s.CONFIGURE),e.init()}a.name=a.name.toLowerCase(),e.$widgetEl=t,e.container=n,e.widgetDefinition=i.getWidget(a.name),e.title=a.title||e.widgetDefinition.view.defaults.title,n.registerWidget({callback:o,element:t,attrs:a})}function p(i){function u(){d.myowner(i.dashboard.title).then(p)}function p(e){i.owner=e,console.log(i.owner),i.owner==c.username||"admin"==c.username?m():i.alerts.push({type:"info",msg:"You are not authorized"})}function m(){var e=angular.extend({controllerAs:"ctrl",resolve:{modalData:function(){return{dashboard:i.dashboard,widgetConfig:i.widgetConfig}}}},i.widgetDefinition.config);o.open(e).result.then(function(e){e&&(angular.extend(i.widgetConfig,e),i.widgetConfig.collectorItemId&&(i.widgetConfig.collectorItemIds=[i.widgetConfig.collectorItemId],delete i.widgetConfig.collectorItemId),d.upsertWidget(i.dashboard.id,i.widgetConfig).then(function(e){null!==e.widget&&"object"==typeof e.widget&&angular.extend(i.widgetConfig,e.widget),i.container.upsertWidget(i.widgetConfig),i.container.upsertComponent(e.component),i.state=s.READY,g()}))})}function g(){if(h(),i.state==s.READY){var o=i.widgetDefinition.view.templateUrl,r=i.widgetDefinition.view.controller,l=i.widgetDefinition.view.controllerAs||"ctrl";if(i.widgetViewController=e(r+" as "+l,{$scope:i}),!i.widgetViewController.load)throw new Error(r+" must define a load method");t.get(o,{cache:a}).then(function(e){v();var t=angular.element(i.$widgetEl[0].querySelector(".widget-body-main"));t.html(e.data),t.children().data("$ngControllerController",i.widgetViewCtrl),n(t.contents())(i),b()})}}function f(e){i.state=e,h()}function v(){h(),i.widgetViewController&&i.widgetViewController.load&&(w=l(b,6e4))}function h(){l.cancel(w)}function b(){var e=i.widgetViewController.load();e&&e.then&&e.then(function(e){var t=angular.isArray(e)?_.max(e):e;i.lastUpdatedDisplay=moment(t).dash("ago")})}i.widget_state=s,i.display_state=r,i.title="",i.state=s.READY,i.display=r.DEFAULT,i.widgetConfig=null,i.widgetDefinition=null,i.dashboard=null,i.container=null,i.owner=null,i.alerts=[],i.closeAlert=function(e){i.alerts.splice(e,1)},i.lastUpdatedDisplay="",i.configModal=m,i.setState=f,i.init=g,i.checkPermission=u;var w;i.$on("$routeChangeStart",h)}return p.$inject=["$scope","$element"],{templateUrl:"app/dashboard/views/widget.html",require:"^widgetContainer",restrict:"E",controller:p,scope:{widget:"=",title:"@widgetTitle"},link:u}}angular.module("devops-dashboard.core").constant("WIDGET_STATE",{READY:1,CONFIGURE:2,WAITING:3,NOT_COLLECTING:4}).constant("DISPLAY_STATE",{DEFAULT:1,ERROR:2}).directive("widget",e),e.$inject=["$controller","$http","$templateCache","$compile","widgetManager","$modal","WIDGET_STATE","DISPLAY_STATE","$interval","dashboardData","$cookies"]}(),function(){"use strict";function e(){function e(e,t,a,n){n.registerPlaceholder({element:t,attrs:a})}return{require:"^widgetContainer",restrict:"E",link:e}}angular.module("devops-dashboard.core").directive("widgetPlaceholder",e),e.$inject=[]}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,transclude:!0,scope:{title:"@widgetModalTitle"},template:'<div class="widget-modal"><div class="widget-modal-heading">{{::title}}</div><div class="widget-modal-body" ng-transclude></div></div>'}}angular.module("devops-dashboard.core").directive("widgetModal",e)}(),function(){"use strict";function e(e){function t(e){function t(t){e.placeholders.push(t)}function a(t){if(!t.attrs.name)throw new Error("Widget name not defined");var a=t.attrs.name=t.attrs.name.toLowerCase();e.registeredWidgets[a]||(e.registeredWidgets[a]=[]),e.registeredWidgets[a].push(t);var n=a+(e.registeredWidgets[a].length-1),i={options:{id:n}},o=!1;_(e.dashboard.widgets).forEach(function(e){e.options&&e.options.id==n&&(i=e,o=!0)}),t.callback&&(e.processedWidgetNames.push(n),t.callback(o,i,e.dashboard))}function n(t){if(null!=t){var a=!1;_(e.dashboard.application.components).forEach(function(n,i){n.id==t.id&&(a=!0,e.dashboard.application.components[i]=t)}),a||e.dashboard.application.components.push(t)}}function i(t){var a=!1;_(e.dashboard.widgets).where(function(e){return e.options.id===t.options.id}).forEach(function(n,i){a=!0,e.dashboard.widgets[i]=angular.extend(n,t)}),a||e.dashboard.widgets.push(t)}if(!e.dashboard)throw new Error("dashboard not accessible by widget-container directive");e.placeholders=[],e.registeredWidgets={},e.processedWidgetNames=[],this.registerPlaceholder=t,this.registerWidget=a,this.upsertWidget=i,this.upsertComponent=n}function a(t){0!==t.placeholders.length&&_(t.dashboard.widgets).where(function(e){return-1==t.processedWidgetNames.indexOf(e.options.id)}).forEach(function(a,n){var i=n%t.placeholders.length,o=t.dashboard.widgets[n],s=e('<widget name="'+o.name+'"></widget>')(t);t.placeholders[i].element.append(s)})}return t.$inject=["$scope"],{restrict:"A",scope:{dashboard:"="},link:a,controller:t}}angular.module("devops-dashboard.core").directive("widgetContainer",e),e.$inject=["$compile"]}(),angular.module("devops-dashboard.core").directive("popoverHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},template:'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" bind-html-unsafe="content"></div></div></div>'}}).directive("popoverHtmlUnsafe",["$tooltip",function(e){return e("popoverHtmlUnsafe","popover","click")}]),function(){"use strict";function e(e){function t(t){t.statuses=e}function a(t,a,n){t.failText=t.failText||"!",n.$observe("dashStatus",function(){switch(t.status.toLowerCase()){case 3:case"3":case"false":case"alert":t.currentStatus=e.FAIL;break;case 1:case"1":case"true":case"ok":t.currentStatus=e.PASS;break;case 2:case"2":case"warning":t.currentStatus=e.WARN}})}return t.$inject=["$scope"],{scope:{status:"@dashStatus",failText:"@dashStatusFailText"},restrict:"A",controller:t,link:a,templateUrl:"app/dashboard/views/dash-status.html"}}angular.module("devops-dashboard.core").constant("DASH_STATUS",{PASS:1,WARN:2,FAIL:3}).directive("dashStatus",e),e.$inject=["DASH_STATUS"]}(),function(){"use strict";function e(e,t,a,n,i,o){function s(){console.log("sending to admin page"),n.path("/admin")}function r(){o.remove("username"),o.remove("authenticated"),n.path("/")}function l(){t.open({templateUrl:"app/dashboard/views/createDashboard.html",controller:"CreateDashboardController",controllerAs:"ctrl"})}function d(e){n.path("/dashboard/"+e)}function c(e){g.dashboards=[];for(var t=0;t<e.length;t++)g.dashboards.push({id:e[t].id,name:e[t].title})}function u(e){g.mydash=[];for(var t=0;t<e.length;t++)g.mydash.push({id:e[t].id,name:e[t].title})}function p(e){a.delete(e).then(function(){_.remove(g.dashboards,{id:e}),_.remove(g.mydash,{id:e})})}function m(e,t){console.log("size before is:"+e.length);var a=e.concat(t);console.log("size after is:"+a.length);var n=a.filter(function(e,t){return a.indexOf(e)==t});console.log("size after reduction  is:"+n.length),g.dashboards=n}var g=this;g.search="",g.myadmin="",g.username=i.username,g.showAuthentication=i.authenticated,g.createDashboard=l,g.deleteDashboard=p,g.open=d,g.logout=r,g.admin=s,g.templateUrl="app/dashboard/views/navheader.html",g.filterNotOwnedList=m,"admin"===g.username&&(g.myadmin=!0),a.search().then(c),a.mydashboard(g.username).then(u)}angular.module("devops-dashboard").controller("SiteController",e),e.$inject=["$scope","$modal","dashboardData","$location","$cookies","$cookieStore","$timeout"]}(),function(){"use strict";function e(e,t,a){function n(a){console.log("Submit was pressed and form was"+a),a?t.signup(document.suf.myusername.value,document.suf.mypassword.value).then(o):(e.alerts.splice(0,e.alerts.length),e.alerts.push({type:"info",msg:"Please fill all the form fields correctly"}))}function i(){s.id="",s.password="",s.passwordConfirm=""}function o(t){console.log(t),"User already Exist"==t?(e.alerts.splice(0,e.alerts.length),e.alerts.push({type:"danger",msg:t})):(e.alerts.splice(0,e.alerts.length),e.alerts.push({type:"success",msg:t}),s.userCreated=!0)}var s=this;s.id="",s.passwd="",s.templateUrl="app/dashboard/views/navheader.html",s.userCreated=!1,e.alerts=[],e.closeAlert=function(t){e.alerts.splice(t,1),s.userCreated&&a.path("/")},s.doSignup=n,s.doReset=i}angular.module("devops-dashboard").controller("SignupController",e),e.$inject=["$scope","signupData","$location","$cookies"]}(),function(){"use strict";function e(e,t,a,n){function i(){n.authenticated?(console.log("I am authenticated"),a.path("/site")):(console.log("Not authenticated redirecting"),a.path("/"))}function o(a){l.submitted=!0,a?t.login(document.lg.loginfield.value,document.lg.passwordfield.value).then(s):(e.alerts.splice(0,e.alerts.length),e.alerts.push({type:"info",msg:"Please fill all the form fields correctly"}))}function s(t){console.log("Authentication is:"+t),t?(n.authenticated=!0,n.username=document.lg.loginfield.value,a.path("/site")):(e.alerts.splice(0,e.alerts.length),e.alerts.push({type:"danger",msg:"Incorrect Username and Password please check"}))}function r(){console.log("In signup"),a.path("/signup")}var l=this;l.showAuthentication=n.authenticated,l.id="",l.passwd="",l.submitted=!1,e.alerts=[],l.doLogin=o,l.doSignup=r,l.templateUrl="app/dashboard/views/navheader.html",l.doCheckState=i,e.closeAlert=function(t){e.alerts.splice(t,1)}}angular.module("devops-dashboard").controller("LoginController",e),e.$inject=["$scope","loginData","$location","$cookies"]}(),function(){"use strict";function e(e,t){function a(){}var n=this;n.hasComponents=a,e||t.path("/"),n.templateUrl="components/templates/"+e.template.toLowerCase()+".html",n.dashboard=e,console.log("Dashboard",e)}angular.module("devops-dashboard").controller("DashboardController",e),e.$inject=["dashboard","$location"]}(),function(){"use strict";function e(e,t,a,n){function i(i){o.submitted=!0,o.owner=n.username,console.log("Owner in dashboard is"+o.owner),i&&(a.create({template:document.cdf.templateName.value,title:document.cdf.dashboardName.value,applicationName:document.cdf.applicationName.value,componentName:document.cdf.applicationName.value,owner:o.owner}).then(function(t){e.path("/dashboard/"+t.id)}),t.dismiss())}var o=this;o.templateName="",o.dashboardName="",o.applicationName="",o.submitted=!1,o.owner="",o.templates=[{value:"capone",name:"Cap One"},{value:"splitview",name:"Split View"}],o.submit=i}angular.module("devops-dashboard").controller("CreateDashboardController",e),e.$inject=["$location","$modalInstance","dashboardData","$cookies"]}(),function(){"use strict";function e(e,t,a,n){function i(){a.remove("username"),a.remove("authenticated"),n.path("/")}function o(e){localStorageSupported&&(localStorage.setItem("theme",e),location.reload())}function s(t){e.delete(t).then(function(){_.remove(l.dashboards,{id:t})})}function r(e){l.dashboards=[];for(var t=0;t<e.length;t++)l.dashboards.push({id:e[t].id,name:e[t].title})}var l=this;console.log("I am in admin page run scope"),"admin"==t.username?(console.log("I am admin"),n.path("/admin")):(console.log("Not authenticated redirecting"),n.path("#")),l.storageAvailable=localStorageSupported,l.templateUrl="app/dashboard/views/navheader.html",l.username=t.username,l.logout=i,l.themes=[{name:"Dash",filename:"dash"},{name:"Dash for display",filename:"dash-display"},{name:"Bootstrap",filename:"default"},{name:"BS Slate",filename:"slate"}],localStorageSupported&&(l.theme=localStorage.getItem("theme")),l.deleteDashboard=s,l.applyTheme=o,e.search().then(r)}angular.module("devops-dashboard").controller("AdminController",e),e.$inject=["dashboardData","$cookies","$cookieStore","$location"]}(),function(e,t,a){"use strict";var n={};a.plugins=a.plugins||{},a.plugins.tooltip=function(e){return e=a.extend({},n,e),function(e){e instanceof a.Line&&e instanceof a.Bar&&(e.on("draw",function(e){if("point"===e.type){var t=new a.Svg("line",{x1:e.x,x2:e.x+.01,y1:e.y,y2:e.y},"ct-tooltip-trigger-area");t._node.setAttribute("ct:value",e.value),e.group.append(t)}}),e.on("created",function(n){var i=e instanceof a.Line?".ct-tooltip-trigger-area":".ct-bar",o=n.svg.querySelectorAll(i);if(o){var s,r=n.svg._node.parentNode,l=r.children[0];if("tooltip top"!=l.getAttribute("class")){l=t.createElement("div"),l.setAttribute("class","tooltip top");var d=t.createElement("div");d.setAttribute("class","tooltip-arrow"),l.appendChild(d),s=t.createElement("div"),s.setAttribute("class","tooltip-inner"),l.appendChild(s),s=angular.element(s),r.insertBefore(l,r.firstChild)}for(var c=0;c<o.svgElements.length;c++){var u=o.svgElements[c];angular.element(u._node).bind("mouseenter",function(e){s.html(Math.round(100*angular.element(this).attr("ct:value"))/100),angular.element(l).css({display:"block",visibility:"hidden"});var t=(e.offsetX||e.originalEvent.layerX)-l.offsetWidth/2+"px",a=(e.offsetY||e.originalEvent.layerY)-l.offsetHeight-10+"px";angular.element(l).css({position:"absolute",left:t,top:a,opacity:1,visibility:"visible"})}),angular.element(u._node).bind("mouseleave",function(){angular.element(l).css({display:"none"})})}}}))}}}(window,document,Chartist),function(e,t,a){"use strict";var n={threshold:null};a.plugins=a.plugins||{},a.plugins.threshold=function(e){if(!e||!e.threshold)throw new Error('"threshold" not set');return e=a.extend({},n,e),function(t){var n=[];t.on("draw",function(e){var i=null;t instanceof a.Line&&"point"===e.type?i="y":t instanceof a.Bar&&"bar"===e.type&&(i="y2"),(null!==i&&!n.length||1==n.length&&n[0][0]!=e.value)&&n.push([e.value,e[i]])}),t.on("created",function(t){if(2==n.length&&e.threshold){var a=(n[1][1]-n[0][1])/(n[1][0]-n[0][0]),i=n[0][1]-a*n[0][0],o=a*e.threshold+i;t.svg.elem("line",{x1:t.chartRect.x1,y1:o,x2:t.chartRect.x2,y2:o},["ct-grid ct-grid-threshold"].join(" "))}})}}}(window,document,Chartist),function(e,t,a){"use strict";var n={labelClass:"ct-label",labelOffset:{x:0,y:-10},textAnchor:"middle"};a.plugins=a.plugins||{},a.plugins.ctPointLabels=function(e){return e=a.extend({},n,e),function(t){t instanceof a.Line&&t.on("draw",function(t){"point"===t.type&&t.group.elem("text",{x:t.x+e.labelOffset.x,y:t.y+e.labelOffset.y,style:"text-anchor: "+e.textAnchor},e.labelClass).text(t.value)})}}}(window,document,Chartist),function(e,t,a){"use strict";a.plugins=a.plugins||{},a.plugins.pointHalo=function(){return function(e){e instanceof a.Line&&e.on("draw",function(e){"point"===e.type&&e.group.append(new a.Svg("circle",{cx:e.x,cy:e.y,r:3},"ct-point-halo"),!0)})}}}(window,document,Chartist),function(e,t,a){"use strict";a.plugins=a.plugins||{},a.plugins.lineAboveArea=function(){return function(e){e.on("created",function(e){var t=e.svg.querySelectorAll(".ct-area");if(t)for(var a=0;a<t.svgElements.length;a++){var n=t.svgElements[a]._node;n.parentNode.insertBefore(n,n.parentNode.firstChild)}})}}}(window,document,Chartist),function(e,t,a){"use strict";a.plugins=a.plugins||{},a.plugins.gridBoundaries=function(){return function(e){e.on("draw",function(e){"grid"==e.type&&e.element._node.remove()}),e.on("created",function(e){for(var t=e.chartRect,a=[{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y1,placement:"bottom-x"},{x1:t.x1,x2:t.x2,y1:t.y2,y2:t.y2,placement:"top-x"},{x1:t.x1,x2:t.x2,y1:(t.y1-t.y2)/2,y2:(t.y1-t.y2)/2,placement:"middle-x"},{x1:t.x1,x2:t.x1,y1:t.y1,y2:t.y2,placement:"left-y"},{x1:t.x2,x2:t.x2,y1:t.y1,y2:t.y2,placement:"right-y"},{x1:(t.x2+t.x1)/2,x2:(t.x2+t.x1)/2,y1:t.y1,y2:t.y2,placement:"middle-y"}],n=0;n<a.length;n++){var i=a[n];e.svg.querySelector(".ct-grids").elem("line",{x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2},["ct-grid","ct-grid-"+i.placement].join(" "))}})}}}(window,document,Chartist),function(){"use strict";function e(){var e=this;e.widgetView=!0,e.toggleView=function(){e.widgetView=!e.widgetView},e.hasComponents=function(e,t){var a=!0;try{_(t).forEach(function(t){e.application.components[0].collectorItems[t]||(a=!1)})}catch(n){a=!1}return a}}angular.module("devops-dashboard").controller("CapOneTemplateController",e),e.$inject=[]}(),angular.module("devops-dashboard").run(["$templateCache",function(e){e.put("components/templates/capone.html",'<div ng-controller="CapOneTemplateController as template"><div id="header"><img class="mycenter pull-left" alt="Hygieia" src="assets/images/Hygieia_b.png"> {{::ctrl.dashboard.title}}<div class="pipeline-toggle btn-group" ng-click="template.toggleView()" ng-show="template.hasComponents(ctrl.dashboard, [\'Deployment\'])"><span class="btn" ng-class="{\'btn-primary\':template.widgetView, \'btn-default\': !template.widgetView}"><span class="fa fa-th"></span> Widget</span> <span class="btn" ng-class="{\'btn-primary\':!template.widgetView, \'btn-default\': template.widgetView}"><span class="fa fa-tasks"></span> Pipeline</span></div><div class="clear"></div></div><div class="dashboard-widgets container-fluid" widget-container="" dashboard="ctrl.dashboard" ng-if="template.widgetView"><div class="row"><div class="col-md-3"><div class="col-xs-12"><widget name="feature" widget-title="Feature"></widget></div><div class="col-xs-12"><widget name="repo"></widget></div></div><div class="col-md-6"><widget name="build"></widget><widget name="codeanalysis"></widget></div><div class="col-md-3"><div class="col-sm-6 col-md-12"><widget name="Monitor"></widget></div><div class="col-sm-6 col-md-12"><widget name="deploy"></widget></div></div></div></div><div class="container-fluid" widget-container="" dashboard="ctrl.dashboard" ng-if="!template.widgetView"><div class="col-xs-12"><widget name="pipeline" widget-title="Delivery Pipeline"></widget></div></div></div>'),e.put("components/templates/splitview.html",'<div class="dashboard-widgets container-fluid" widget-container="" dashboard="ctrl.dashboard"><div class="row"><div class="col-sm-5"><widget name="build"></widget><widget name="repo"></widget></div><div class="col-sm-6"><widget name="codeanalysis"></widget><div class="col-sm-6"><widget name="Monitor"></widget></div><div class="col-sm-6"><widget name="deploy"></widget></div></div></div></div>'),e.put("components/widgets/build/config.html",'<widget-modal widget-modal-title="Configure Build Widget" class="build-config"><form name="configForm" role="form" ng-submit="buildConfig.submit(configForm.$valid)" novalidate="novalidate"><div class="form-group text-center" ng-class="{\'has-error\': configForm.collectorItemId.$invalid && buildConfig.submitted}"><select name="collectorItemId" class="form-control" ng-model="buildConfig.collectorItemId" ng-options="item.name for item in buildConfig.buildJobs | orderBy: \'name\' track by item.value" ng-disabled="buildConfig.toolsDropdownDisabled" required=""><option value="">{{buildConfig.toolsDropdownPlaceholder}}</option></select><p class="help-block" ng-if="configForm.collectorItemId.$error.required">Please select a collector</p></div><div class="form-group text-center" ng-class="{\'has-error\': configForm.buildDurationThreshold.$invalid && buildConfig.submitted}"><label class="modal-label">Build duration threshold</label> <input type="text" name="buildDurationThreshold" class="form-control-inline text-center" ng-model="buildConfig.buildDurationThreshold" size="1" minlength="1" maxlength="3" pattern="\\d*\\.?\\d*" required="">&nbsp;&nbsp;&nbsp;minutes<p class="help-block" ng-if="configForm.buildDurationThreshold.$error.required">Build threshold is required</p><p class="help-block" ng-if="configForm.buildDurationThreshold.$error.pattern">Please enter a number</p></div><hr><div class="form-group text-center" ng-class="{\'has-error\': configForm.buildConsecutiveFailureThreshold.$invalid && buildConfig.submitted}"><label class="modal-label">Alert takeover criteria:</label> <input type="text" name="buildConsecutiveFailureThreshold" class="form-control-inline text-center" ng-model="buildConfig.buildConsecutiveFailureThreshold" size="1" minlength="1" maxlength="3" pattern="\\d*\\.?\\d*" required="">&nbsp;&nbsp;&nbsp;consecutive build fails<p class="help-block" ng-if="configForm.buildConsecutiveFailureThreshold.$error.required">Takeover criteria is required</p><p class="help-block" ng-if="configForm.buildConsecutiveFailureThreshold.$error.pattern">Please enter a number</p></div><div class="button-row row text-center"><button type="submit" class="btn btn-primary btn-wide">Save</button></div></form></widget-modal>'),e.put("components/widgets/build/detail.html",'<div class="widget-detail build-detail"><a href="" class="detail-close" ng-click="detail.close()"><span class="fa fa-2x fa-times-circle-o"></span></a><div class="widget-detail-heading"><div class="row"><div class="col-md-3 build-desc"><span class="dash-status-lg" dash-status="{{detail.buildPassed()}}"></span> <span class="build-number">Build {{::detail.build.number}}</span></div><div class="col-md-3 build-time"><span>{{::detail.build.endTime | date:\'MMM d, HH:mm:ss\'}}</span></div><div class="col-md-3 build-duration"><span>Duration: {{::detail.build.duration | duration}}</span></div><div class="col-md-3 view-in-tool"><a ng-href="{{::detail.build.buildUrl}}" target="_blank">View in {{::detail.collectorName}} <span class="fa fa-angle-right"></span></a></div></div></div><div class="widget-detail-body"><span class="no-changesets" ng-hide="detail.build.sourceChangeSet.length">No Changes</span><table class="table" ng-show="detail.build.sourceChangeSet.length"><thead><tr><th>Revision</th><th>Author</th><th>Message</th></tr></thead><tbody><tr ng-repeat="changeSet in detail.build.sourceChangeSet"><td>{{::changeSet.scmRevisionNumber | limitTo:8}}</td><td>{{::changeSet.scmAuthor}}</td><td>{{::changeSet.scmCommitLog}}</td></tr></tbody></table></div></div>'),e.put("components/widgets/build/view.html",'<div class="build-view"><div class="row"><div class="col-lg-8"><builds-per-day></builds-per-day><average-build-duration></average-build-duration></div><div class="col-lg-4"><div class="row"><div class="col-lg-12 col-sm-6"><latest-builds></latest-builds></div><div class="col-lg-12 col-sm-6"><total-builds></total-builds></div></div></div></div></div>'),e.put("components/widgets/codeanalysis/config.html",'<widget-modal widget-modal-title="Configure Code Analysis Widget" class="ca-config"><form name="configForm" role="form" ng-submit="caWidget.submit(caWidget.caCollectorItem, caWidget.saCollectorItem, caWidget.testCollectorItem)" novalidate="novalidate"><div class="form-group text-center"><select name="caCollectorItem" class="form-control" ng-model="caWidget.caCollectorItem" ng-options="(item.collector.name + \' - \' + item.description) for item in caWidget.caJobs | orderBy:[\'collector.name\',\'description\'] track by item.id" ng-disabled="caWidget.caJobs.length === 0"><option value="">{{caWidget.caToolsDropdownPlaceholder}}</option></select></div><div class="form-group text-center"><select name="saCollectorItem" class="form-control" ng-model="caWidget.saCollectorItem" ng-options="(item.collector.name + \' - \' + item.options.projectName + \'-\' + item.options.projectversion) for item in caWidget.saJobs | orderBy:[\'collector.name\',\'description\'] track by item.id" ng-disabled="caWidget.saJobs.length === 0"><option value="">{{caWidget.saToolsDropdownPlaceholder}}</option></select></div><div class="form-group text-center"><select name="testCollectorItem" class="form-control" ng-model="caWidget.testCollectorItem" ng-options="(item.collector.name + \' - \' + item.description) for item in caWidget.testJobs | orderBy:[\'collector.name\',\'description\'] track by item.id" ng-disabled="caWidget.testJobs.length === 0"><option value="">{{caWidget.testToolsDropdownPlaceholder}}</option></select></div><div class="row text-center"><button type="submit" class="btn btn-primary btn-wide">Save</button></div></form></widget-modal>'),e.put("components/widgets/codeanalysis/view.html",'<div class="row ca-view"><div class="col-lg-4 col-sm-12"><div class="widget ca-issues"><div class="widget-heading">Static Analysis</div><div class="widget-body"><table class="table"><tr class="dash-row" ng-repeat="issue in caWidget.issues track by issue.name" ng-class="{\'clickable\': !!issue.statusMessage}" popover-html-unsafe="{{issue.statusMessage}}" popover-trigger="focus" popover-placement="left" tabindex="0"><td><span dash-status="{{ issue.status }}" ng-if="caWidget.showStatusIcon(issue)"></span></td><td class="ca-name">{{issue.name}}</td><td class="ca-value">{{issue.formattedValue}}</td></tr></table></div></div><div class="widget ca-tests"><div class="widget-heading">Unit tests</div><div class="widget-body"><table class="table"><tr class="dash-row" ng-repeat="test in caWidget.unitTests track by test.name" ng-class="{\'clickable\': !!test.statusMessage}" popover-html-unsafe="{{test.statusMessage}}" popover-trigger="focus" popover-placement="left" tabindex="0"><td><span dash-status="{{ test.status }}" ng-if="caWidget.showStatusIcon(test)"></span></td><td class="ca-name">{{test.name}}</td><td class="ca-value">{{test.formattedValue}}</td></tr></table></div></div></div><div class="col-lg-4 col-sm-12"><div class="widget ca-version"><div class="widget-heading">Version {{ caWidget.versionNumber }}</div><div class="widget-body"><div class="clearfix" fit-text=".ca-value span" fit-text-max="99px"><div class="col-sm-6"><div class="ca-value ca-status-{{ caWidget.rulesCompliance.status || \'Ok\'}}" ng-class="{\'clickable\': !!caWidget.rulesCompliance.statusMessage}" popover-html-unsafe="{{caWidget.rulesCompliance.statusMessage}}" popover-trigger="focus" popover-placement="right" tabindex="0"><span ng-show="caWidget.rulesCompliance.value">{{ caWidget.rulesCompliance.value | number:1 }}<small class="percent">%</small></span> <span ng-hide="caWidget.rulesCompliance.value">-</span></div><div class="clearfix"></div><div class="ca-label">Rules<br>Compliance</div></div><div class="col-sm-6"><div class="ca-value ca-status-{{ caWidget.technicalDebt.status || \'Ok\'}}" ng-class="{\'clickable\': !!caWidget.technicalDebt.statusMessage}" popover-html-unsafe="{{caWidget.technicalDebt.statusMessage}}" popover-trigger="focus" popover-placement="right" tabindex="0"><span>{{ caWidget.technicalDebt.formattedValue }}</span></div><div class="clearfix"></div><div class="ca-label">Technical<br>Debt</div></div></div></div></div><div class="widget ca-coverage"><div class="widget-heading">Code coverage</div><div class="widget-body"><div guage-container=""><div class="ct-wrapper clearfix" ng-class="{\'clickable\': !!caWidget.lineCoverage.statusMessage}" popover-html-unsafe="{{caWidget.lineCoverage.statusMessage}}" popover-trigger="focus" popover-placement="right" tabindex="0"><chartist class="ct-chart ct-square db-chart-primary ct-chart-{{ caWidget.lineCoverage.status || \'Ok\'}}" chartist-data="caWidget.unitTestCoverageData" chartist-chart-options="caWidget.pieOptions" chartist-chart-type="Pie"></chartist><div class="guage-number"><span fit-text="">{{ caWidget.unitTestCoverageData.series[0] | number:0 }}<small class="percent">%</small></span></div></div></div><div class="clearfix"></div><div class="ca-value text-center">{{caWidget.linesofCode.value | number:0 }} lines of code</div></div></div></div><div class="col-lg-4 col-sm-12"><div class="widget ca-security"><div class="widget-heading">Security Analysis</div><div class="widget-body"><table class="table"><tr class="dash-row" ng-repeat="issue in caWidget.securityIssues track by issue.name" ng-class="{\'clickable\': !!issue.statusMessage}" popover-html-unsafe="{{issue.statusMessage}}" popover-trigger="focus" popover-placement="left" tabindex="0"><td><span dash-status="{{ issue.status }}" ng-if="caWidget.showStatusIcon(issue)"></span></td><td class="ca-name">{{issue.name}}</td><td class="ca-value">{{issue.formattedValue}}</td></tr></table></div></div><div class="widget ca-tests"><div class="widget-heading">Functional tests</div><div class="widget-body"><table class="table"><tr class="dash-row" ng-repeat="test in caWidget.functionalTests track by test.name" ng-class="{\'clickable\': !!test.statusMessage}" popover-html-unsafe="{{test.statusMessage}}" popover-trigger="focus" popover-placement="left" tabindex="0"><td><span dash-status="{{ test.status }}" ng-if="caWidget.showStatusIcon(test)"></span></td><td class="ca-name">{{test.name}}</td><td class="ca-value">{{test.formattedValue}}</td></tr></table></div></div></div></div>'),e.put("components/widgets/deploy/config.html",'<widget-modal widget-modal-title="Configure Deploy Widget"><form class="deploy-config" name="configForm" ng-submit="deployConfig.submit(configForm.$valid)" novalidate="novalidate"><div class="form-group" ng-class="{\'has-error\': configForm.collectorItemId.$invalid && deployConfig.submitted}"><select name="collectorItemId" class="form-control" ng-model="deployConfig.deployJob" ng-options="job.name for job in deployConfig.deployJobs | orderBy: \'name\' track by job.value" ng-disabled="deployConfig.jobDropdownDisabled" required=""><option value="">{{deployConfig.jobDropdownPlaceholder}}</option></select><p class="help-block" ng-if="configForm.collectorItemId.$error.required">Please select your application</p></div><hr><div class="form-group text-center"><label class="modal-label">Alert takeover criteria:</label><br>If any environment is down</div><div class="button-row row text-center"><button type="submit" class="btn btn-primary btn-wide">Save</button></div></form></widget-modal>'),e.put("components/widgets/deploy/detail.html",'<div class="widget-detail deploy-detail"><a href="" class="detail-close" ng-click="detail.close()"><span class="fa fa-2x fa-times-circle-o"></span></a><div class="widget-detail-heading"><div class="row"><div class="col-md-4"><span class="dash-status-lg" dash-status="{{detail.environment.failedComponents > 0 ? detail.statuses.FAIL : detail.statuses.PASS}}" dash-status-fail-text="{{detail.environment.failedComponents}}"></span> <span class="environment-name">{{::detail.environment.name}}</span></div><div class="col-md-3 last-updated"><span>{{::detail.environment.lastUpdated | date:\'MMM d, HH:mm:ss\'}}</span></div><div class="col-md-2 server-count"><span ng-class="{\'servers-up\' : detail.environment.serverUpCount > 0}">{{detail.environment.serverUpCount}}<span class="fa fa-arrow-up"></span></span> <span ng-class="{\'servers-down\' : detail.environment.serverDownCount > 0}">{{detail.environment.serverDownCount}}<span class="fa fa-arrow-down"></span></span></div><div class="col-md-3 view-in-tool"><a ng-href="{{::detail.environment.url}}" target="_blank">View in {{::detail.collectorName }} <span class="fa fa-angle-right"></span></a></div></div></div><div class="widget-detail-body"><table class="table"><thead><tr><th colspan="2">Component</th><th>Time</th><th>Version</th><th colspan="2">Resource</th></tr></thead><tbody ng-repeat="unit in detail.environment.units | orderBy:[\'deployed\', \'name\'] track by $index"><tr ng-repeat="server in unit.servers | orderBy:[\'online\', \'name\'] track by $index"><td dash-status="{{unit.deployed}}"></td><td>{{::unit.name}}</td><td>{{::unit.lastUpdated | date:\'MMM d, HH:mm:ss\'}}</td><td>{{::unit.version}}</td><td>{{::server.name}}</td><td ng-show="server.online" class="servers-up"><span class="fa fa-arrow-up"></span></td><td ng-hide="server.online" class="servers-down"><span class="fa fa-arrow-down"></span></td></tr></tbody></table></div></div>'),e.put("components/widgets/deploy/view.html",'<div class="deploy-view"><table class="table"><tr class="dash-row clickable" ng-repeat="environment in deployView.environments" ng-click="deployView.showDetail(environment)"><td><span dash-status="{{environment.failedComponents > 0 ? deployView.statuses.FAIL : deployView.statuses.PASS}}" dash-status-fail-text="{{environment.failedComponents}}"></span></td><td class="dash-overflow environment-name">{{environment.name}}</td><td class="text-standard-date">{{environment.lastUpdated | fromNow}}</td><td class="server-count" ng-class="{\'servers-up\' : environment.serverUpCount > 0}">{{environment.serverUpCount}} <span class="fa fa-arrow-up"></span></td><td class="server-count" ng-class="{\'servers-down\' : environment.serverDownCount > 0}">{{environment.serverDownCount}} <span class="fa fa-arrow-down"></span></td></tr></table></div>'),e.put("components/widgets/monitor/config.html",'<widget-modal class="monitor-config form-horizontal" widget-modal-title="Monitor Configuration"><form ng-submit="ctrl.save()"><section><header>Our Services</header><div class="list-animate clearfix"><div class="dash-modal-row clearfix" ng-repeat="service in ctrl.dashboardServices"><label>{{service.name}}</label> <span class="trash-icon clickable pull-right fa fa-stack fa-lg" ng-click="ctrl.deleteDashboardService($index)"><span class="fa-circle-thin fa-stack-2x"></span> <span class="fa-trash fa-stack-1x"></span></span></div><div class="dash-modal-row clearfix form-horizontal" ng-repeat="service in ctrl.newDashboardServices"><span class="trash-icon clickable pull-right fa fa-stack fa-lg" ng-click="ctrl.deleteNewDashboardService($index)"><span class="fa-circle-thin fa-stack-2x"></span> <span class="fa-trash fa-stack-1x"></span></span> <label class="control-label pull-left">{{::ctrl.appName}}&nbsp;:&nbsp;</label> <span class="form-control-inline-container"><input class="form-control" type="text" ng-model="service.name" placeholder="Service Name"></span></div></div><br><button type="button" class="btn btn-default" ng-click="ctrl.addNewDashboardService()"><span class="fa fa-stack"><span class="fa-circle-thin fa-stack-2x"></span> <span class="fa-plus fa-stack-1x"></span></span> Add service</button></section><br><br><section class="dependent-services" ng-if="ctrl.allServices.length"><header>Dependent Services</header><div class="list-animate clearfix"><div class="dash-modal-row clearfix" ng-repeat="service in ctrl.dependentServices"><label class="control-label">{{service.name}}</label> <span class="clickable pull-right fa fa-stack fa-lg" ng-click="ctrl.deleteDependentService($index)"><span class="fa-circle-thin fa-stack-2x"></span> <span class="fa-trash fa-stack-1x"></span></span></div><div class="dash-modal-row clearfix form-horizontal" ng-repeat="service in ctrl.newDependentServices"><span class="trash-icon clickable pull-right fa fa-stack fa-lg" ng-click="ctrl.deleteNewDependentService($index)"><span class="fa-circle-thin fa-stack-2x"></span> <span class="fa-trash fa-stack-1x"></span></span> <span class="form-control-inline-container"><select name="templateName" class="form-control" ng-model="service.selectedItem" ng-options="item.name for item in ctrl.allServices track by item.id"><option value="">Select Dependent Service</option></select></span></div></div><br><button type="button" class="btn btn-default" ng-click="ctrl.addNewDependentService()" ng-if="ctrl.allServices.length"><span class="fa fa-stack"><span class="fa-circle-thin fa-stack-2x"></span> <span class="fa-plus fa-stack-1x"></span></span> Add service</button></section><div class="row text-center"><br><br><button type="submit" class="btn btn-primary btn-wide">Save</button></div></form></widget-modal>'),e.put("components/widgets/monitor/view.html",'<div class="monitor-view"><div class="widget" ng-if="ctrl.services && ctrl.services.length"><div class="widget-heading">Our Services</div><div class="widget-body"><div class="monitor-row dash-row clickable" ng-repeat="service in ctrl.services | orderBy: [\'-status\', \'name\']" ng-click="ctrl.openStatusWindow(service)"><span class="pull-left" dash-status="{{service.status}}"></span> <span class="fa fa-comment-o pull-right" ng-if="ctrl.hasMessage(service)"></span><div class="dash-overflow">{{service.name}}</div></div></div></div><div class="widget" ng-if="ctrl.dependencies && ctrl.dependencies.length"><div class="widget-heading">Dependent Services</div><div class="widget-body"><div class="monitor-row dash-row" ng-repeat="service in ctrl.dependencies | orderBy: [\'-status\', \'name\']" ng-class="{\'clickable\': ctrl.hasMessage(service)}" popover="{{service.message}}" popover-trigger="focus" popover-placement="left" tabindex="0"><span class="pull-left" dash-status="{{service.status}}"></span> <span class="fa fa-comment-o pull-right monitor-has-comment" ng-if="ctrl.hasMessage(service)"></span><div class="dash-overflow">{{service.name}}</div></div></div></div><p class="text-center" ng-if="!ctrl.services.length && !ctrl.dependencies.length">No services configured</p></div><script type="text/ng-template" id="monitorStatus.html"><widget-modal widget-modal-title="Status"> <form role="form" ng-submit="ctrl.submit()" novalidate="novalidate"> <div class="form-group"> <label class="control-label">{{::ctrl.service.name}}</label> <textarea class="form-control modal-view-status-input" rows="3" ng-model="ctrl.service.message" placeholder="Add a message"></textarea> </div> <div class="form-group clearfix"> <div class="monitor-modal-buttons fa fa-2x pull-left"> <span class="btn monitor-button-fail" ng-class="{\'selected\':ctrl.service.status == ctrl.statuses.FAIL}" ng-click="ctrl.setStatus(ctrl.statuses.FAIL)"> <span class="fa-exclamation-circle"></span> </span> <span class="btn monitor-button-warn" ng-class="{\'selected\':ctrl.service.status == ctrl.statuses.WARN}" ng-click="ctrl.setStatus(ctrl.statuses.WARN)"> <span class="fa-exclamation-triangle"></span> </span> <span class="btn monitor-button-pass" ng-class="{\'selected\':ctrl.service.status == ctrl.statuses.PASS}" ng-click="ctrl.setStatus(ctrl.statuses.PASS)"> <span class="fa-check"></span> </span> </div> <button class="btn btn-primary pull-right" ng-click="ctrl.updateStatus()">Update</button> </div> </form> </widget-modal></script>'),e.put("components/widgets/feature/config.html",'<widget-modal widget-modal-title="Configure Feature Widget"><form name="configForm" ng-submit="ctrl.submit(configForm.$valid, ctrl.collectorItemId)" novalidate="novalidate"><div class="form-group clearfix" ng-class="{\'has-error\': configForm.collectorItemId.$invalid && ctrl.submitted}"><div class="col-sm-push-2 col-sm-8"><label class="modal-label">Agile Content Tool Type:</label><select name="collectorId" class="form-control" ng-model="ctrl.collectorId" ng-init="ctrl.collectorId" ng-change="ctrl.evaluateTypeSelection()" ng-options="featureTypeOption.value for featureTypeOption in ctrl.featureTypeOptions | orderBy: \'value\' track by featureTypeOption.id" required=""><option value="">{{ctrl.typeDropdownPlaceholder}}</option></select><p class="help-block" ng-if="configForm.collectorItemId.$error.required">Please select a valid feature data source</p></div><div ng-hide="ctrl.hideScopeOwnerDropDown" class="col-sm-push-2 col-sm-8"><label class="modal-label">Team/Project Name:</label><select name="collectorItemId" class="form-control" ng-model="ctrl.collectorItemId" ng-options="item.teamName for item in ctrl.scopeOwners | orderBy: \'teamName\' track by item.value" ng-disabled="ctrl.toolsDropdownDisabled" required=""><option value="">{{ctrl.toolsDropdownPlaceholder}}</option></select><p class="help-block" ng-if="configForm.collectorItemId.$error.required">Please select a valid team / project</p></div></div><div class="button-row row text-center"><button type="submit" class="btn btn-primary btn-wide">Save</button></div></form></widget-modal>'),e.put("components/widgets/feature/view.html",'<div class="feature-view"><div class="col-lg-12 col-sm-6"><div class="widget"><div class="widget-body"><div class="col-xs-9.5 text-standard-sm dash-overflow">Scope: <em>{{ctrl.teamName}}</em></div></div><div class="widget-heading"><div class="col-xs-2.5 text-standard-lg pull-right">{{ctrl.daysTilEnd}}</div><div class="col-xs-9.5 text-standard-lg dash-overflow">Sprint: <em>{{ctrl.sprintName}}</em></div></div><div class="widget-body" fit-text=".build-summary-count > span" fit-text-max="40"><div class="row"><div class="col-xs-4"><div class="story-summary-count story-total"><span>{{ctrl.totalStoryPoints}}</span></div><div class="story-summary-type">Total</div></div><div class="col-xs-4"><div class="story-summary-count story-wip"><span>{{ctrl.wipStoryPoints}}</span></div><div class="story-summary-type">WIP</div></div><div class="col-xs-4"><div class="story-summary-count story-done"><span>{{ctrl.doneStoryPoints}}</span></div><div class="story-summary-type">Done</div></div></div></div></div><div class="widget"><div class="widget-body"><div class="widget-heading">Features in Progress<button class="pull-right btn-default btn-xm active" ng-show="ctrl.showFeatureLimitButton" ng-click="ctrl.setFeatureLimit()" ng-init="ctrl.featureLimit=4">+/-</button></div><div class="dash-row" ng-repeat="feature in ctrl.epicStoryPoints | limitTo:ctrl.featureLimit"><div class="pull-right">{{feature.sEstimate}}</div><div class="dash-overflow">{{feature.sEpicName}}</div></div></div></div></div></div>'),e.put("components/widgets/pipeline/config.html",'<widget-modal class="pipeline-config form-horizontal" widget-modal-title="Configure Delivery Pipeline"><div class="text-center form-group">Map your environments to the following pipeline stages:</div><div class="form-group clearfix" ng-repeat="map in pipelineConfig.environmentMappings"><div class="col-sm-3"><label class="control-label pull-right">{{map.key}}:</label></div><div class="col-sm-9"><select class="form-control" ng-model="pipelineConfig.mappings[map.key]" ng-options="item.value as item.name for item in pipelineConfig.environments | orderBy: \'name\'" ng-disabled="pipelineConfig.environmentsDropdownDisabled"><option value="">Select an environment</option></select></div></div><div class="button-row row text-center"><button class="btn btn-primary" ng-click="pipelineConfig.save()">Save</button></div></widget-modal>'),e.put("components/widgets/pipeline/view.html",'<div class="pipeline-view"><header class="clearfix"><div class="col-xs-push-3 col-xs-9"><div class="row"><span class="pipeline-environment-header col-xs-{{pipelineView.colGridSize}}" ng-repeat="key in pipelineView.environmentKeys" ng-class="{\'down\':pipelineView.isDown(key)}"><span>{{::key.toUpperCase()}}</span></span></div></div></header><section><div class="pipeline-row clearfix" ng-repeat="unit in pipelineView.units"><div class="col-xs-3"><div class="row"><div class="pipeline-unit-name dash-overflow">{{unit.name}}</div></div></div><div class="col-xs-9"><div class="row"><div class="col-xs-{{pipelineView.colGridSize}}" ng-repeat="key in pipelineView.environmentKeys"><div class="pipeline-data-cell"><span dash-status="false" ng-if="unit.environments[key].somethingDown"></span><div class="version">{{::unit.environments[key].version}}</div><div class="text-standard-date">{{::unit.environments[key].lastUpdate | fromNow}}</div></div></div></div></div></div></section></div>'),e.put("components/widgets/repo/config.html",'<widget-modal widget-modal-title="Configure Code Repo Widget"><form name="configForm" ng-submit="repoConfig.submit(configForm.$valid, repoConfig.repoUrl, repoConfig.repoOption)" novalidate="novalidate"><div class="form-group text-center" ng-class="{\'has-error\': configForm.repoOption.$invalid && repoConfig.submitted}"><label class="modal-label">Repo Type</label><select name="repoId" class="form-control" ng-model="repoConfig.repoOption" ng-options="repoOption.value for repoOption in repoConfig.repoOptions" required=""></select><p class="help-block" ng-if="configForm.collectorItemId.$error.required">Please select a repository type</p></div><div class="form-group clearfix" ng-class="{\'has-error\': configForm.repoUrl.$invalid && repoConfig.submitted}"><div class="col-sm-push-2 col-sm-8"><label class="modal-label">Repo URL</label> <input type="text" name="repoUrl" class="form-control" ng-model="repoConfig.repoUrl" placeholder="Enter URL" required=""><p class="help-block" ng-if="configForm.repoUrl.$error.required">Repository URL is required</p></div></div><div class="form-group clearfix" ng-class="{\'has-error\': configForm.gitBranch.$invalid && repoConfig.submitted}" ng-if="repoConfig.repoOption.name == \'GitHub (public)\' || repoConfig.repoOption.name == \'GitHub\'"><div class="col-sm-push-2 col-sm-8"><label class="modal-label" id="repoLabel">GitHub branch</label> <input type="text" name="gitBranch" class="form-control" ng-model="repoConfig.gitBranch" placeholder="Enter Branch" required=""><p class="help-block" ng-if="configForm.gitBranch.$error.required">GitHub branch is required</p></div></div><div class="button-row row text-center"><button type="submit" class="btn btn-primary btn-wide">Save</button></div></form></widget-modal>'),e.put("components/widgets/repo/detail.html",'<div class="widget-detail repo-detail" ng-model="repoView.detail"><a href="" class="detail-close" ng-click="detail.close()"><span class="fa fa-2x fa-times-circle-o"></span></a><div class="widget-detail-body"><span class="no-changesets" ng-hide="detail.commits.length">No Changes</span><table class="table" ng-show="detail.commits.length"><thead><tr><th>Revision</th><th>Author</th><th>Message</th><th>Time</th></tr></thead><tbody><tr ng-repeat="commit in detail.commits"><td>{{::commit.scmRevisionNumber | limitTo:8}}</td><td>{{::commit.scmAuthor}}</td><td>{{::commit.scmCommitLog}}</td><td>{{::commit.scmCommitTimestamp | date:\'MMM d, HH:mm:ss\'}}</td></tr></tbody></table></div></div>'),e.put("components/widgets/repo/view.html",'<div class="repo-view"><div class="widget"><div class="widget-heading">Commits per day</div><div class="widget-body"><chartist class="ct-chart ct-octave dash-chart-alt clickable" ng-click="repoView.showDetail()" chartist-chart-type="Line" chartist-data="repoView.commitChartData" chartist-chart-options="repoView.commitChartOptions" chartist-events="repoView.commitChartEvents"></chartist></div></div><div class="widget"><div class="widget-heading">Summary</div><div class="widget-body"><table class="table repo-summary-table"><tr><td>Total Commits</td><td>{{repoView.lastDayCommitCount}}</td><td>{{repoView.lastSevenDaysCommitCount}}</td><td>{{repoView.lastFourteenDaysCommitCount}}</td></tr><tr><td>Contributors</td><td>{{repoView.lastDayContributorCount}}</td><td>{{repoView.lastSevenDaysContributorCount}}</td><td>{{repoView.lastFourteenDaysContributorCount}}</td></tr><tr class="totals"><td></td><td>Today</td><td>Last<br>7 Days</td><td>Last<br>14 Days</td></tr></table></div></div></div>'),e.put("app/dashboard/views/admin.html",'<ng-include src="ctrl.templateUrl"></ng-include><div id="admin"><div class="container-fluid"><div class="col-md-8 col-md-push-2"><div class="widget-modal"><div class="widget-modal-heading">Delete Existing Dashboard</div><div class="widget-modal-body"><div class="row"><div class="col-xs-push-2 col-xs-8"><div class="text-center" ng-hide="ctrl.dashboards">Loading Dashboards...</div><div class="list-animate"><div class="dash-modal-row delete-dashboard-row clearfix" ng-repeat="item in ctrl.dashboards | orderBy:\'name\'"><div class="btn-block">{{item.name}} <span class="clickable pull-right fa fa-stack" ng-click="ctrl.deleteDashboard(item.id)"><span class="fa-circle-thin fa-stack-2x"></span> <span class="fa-trash fa-stack-1x"></span></span></div></div></div><div class="text-center" ng-show="ctrl.dashboards && !ctrl.dashboards.length">No results</div></div></div></div></div></div></div><div class="themes" ng-show="::ctrl.storageAvailable"><div class="btn-group" dropdown="" is-open="status.isopen"><button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle="">Themes <span class="caret"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu"><li ng-class="{\'active\': ctrl.theme == theme.filename}" ng-repeat="theme in ctrl.themes"><a class="clickable btn-block" ng-click="ctrl.applyTheme(theme.filename)">{{theme.name}}</a></li></ul></div></div></div>'),e.put("app/dashboard/views/createDashboard.html",'<div class="widget-modal"><div class="widget-modal-heading">Create a New Dashboard</div><div class="widget-modal-body"><form name="cdf" class="form" ng-submit="ctrl.submit(cdf.$valid)" novalidate=""><div class="form-group" ng-class="{\'has-error\': cdf.templateName.$invalid && ctrl.submitted}"><select name="templateName" class="form-control" ng-model="ctrl.templateName" ng-options="item.name for item in ctrl.templates track by item.value" required=""><option value="">Select a template</option></select><p class="help-block" ng-if="cdf.dashboardName.$error.required">Please select a template</p></div><div class="form-group" ng-class="{\'has-error\': cdf.dashboardName.$invalid && ctrl.submitted}"><input type="text" name="dashboardName" class="form-control" placeholder="Dashboard title" ng-model="ctrl.dashboardName" required="" maxlength="50" minlength="6"><p class="help-block" ng-if="cdf.dashboardName.$error.required">Template name is required</p><p class="help-block" ng-if="cdf.dashboardName.$error.minlength">Min length of 6 characters</p><p class="help-block" ng-if="cdf.dashboardName.$error.maxlength">Max length of 50 characters</p></div><div class="form-group" ng-class="{\'has-error\': cdf.applicationName.$invalid && ctrl.submitted}"><input type="text" name="applicationName" class="form-control" placeholder="Application name" ng-model="ctrl.applicationName" maxlength="50" required=""><p class="help-block" ng-if="cdf.applicationName.$error.required">Application name is required</p><p class="help-block" ng-if="cdf.applicationName.$error.maxlength">Max length of 50 characters</p></div><div class="button-row row text-center"><button type="submit" class="btn btn-primary btn-wide">Create</button></div></form></div></div>'),e.put("app/dashboard/views/dash-status.html",'<span class="dash-status fa"><span class="dash-status-pass fa-check" ng-if="currentStatus == statuses.PASS"></span> <span class="dash-status-warn fa-warning" ng-if="currentStatus == statuses.WARN"></span> <span class="dash-status-fail" ng-if="currentStatus == statuses.FAIL">{{failText}}</span></span>'),e.put("app/dashboard/views/dashboard.html",'<div id="dashboard"><ng-include src="ctrl.templateUrl"></ng-include></div>'),e.put("app/dashboard/views/login.html",'<div id="auth"><ng-include src="login.templateUrl"></ng-include><div class="col-md-8 col-md-push-2"><div class="auth-modal-heading">Please Login</div><div class="auth-modal-body"><alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert><form id="lg" name="lg" class="form" ng-controller="LoginController" ng-submit="login.doLogin(lg.$valid)" ng-init="login.doCheckState()" role="form" novalidate=""><div class="row"><div class="col-xs-8 col-md-push-2"><div class="form-group"><input type="text" name="loginfield" class="form-control text-center" ng-model="login.id" required="" minlength="4" placeholder="Enter your login Id"><p ng-show="lg.loginfield.$invalid && !lg.loginfield.$pristine" class="help-block">login id is required.</p></div><div class="form-group"><input type="password" name="passwordfield" class="form-control text-center" ng-model="login.passwd" required="" placeholder="Enter your Password"><p ng-show="lg.passwordfield.$invalid && !lg.passwordfield.$pristine" class="help-block">password is required.</p></div></div></div><div class="col-sm-6 col-md-push-4"><button type="submit" class="btn btn-lg btn-default" value="login"><i class="fa fa-stack fa-lg fa fa-thumbs-o-up"></i><br>Click to Login</button></div><div class="col-sm-6 col-md-2"><div class="btn btn-lg btn-default" ng-click="login.doSignup()"><span class="fa fa-stack fa-lg"><span class="fa fa-key"></span></span><br>Click to Signup</div></div></form></div></div></div>'),e.put("app/dashboard/views/navheader.html",'<div id="hgheader"><nav class="navbar navbar-inverse navbar-fixed-top"><div class="container-fluid"><img class="mycenter pull-left" alt="Hygieia" src="assets/images/Hygieia_w.png"><div ng-show="ctrl.showAuthentication"><div ng-controller="SiteController" style="color: white" class="nav navbar-nav navbar-right"><div class="divider"></div><div class="divider"></div><span style="position: relative; top: 10px" alt="">Welcome {{ ctrl.username | uppercase}} <a href=""><span class="fa-stack fa-lg" ng-show="ctrl.myadmin" ng-click="ctrl.admin()"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-cog fa-stack-1x fa-inverse"></i></span>]</a> <a href=""><span class="fa-stack fa-lg" ng-click="ctrl.logout()"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-power-off fa-stack-1x fa-inverse"></i></span></a><div class="divider"></div></span></div></div></div></nav></div>'),e.put("app/dashboard/views/signup.html",'<div id="auth"><ng-include src="signup.templateUrl"></ng-include><div class="col-md-8 col-md-push-2"><div class="auth-modal-heading">Please Signup</div><div class="auth-modal-body"><alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert><form name="suf" class="form" ng-controller="SignupController" ng-submit="signup.doSignup(suf.$valid)" role="form" novalidate=""><div class="row"><div class="col-xs-8 col-md-push-2"><div class="form-group"><input type="text" class="form-control text-center" ng-model="signup.id" name="myusername" placeholder="Enter your login Id"></div><div class="form-group"><input type="password" class="form-control text-center" ng-model="signup.password" required="" minlength="6" name="mypassword" placeholder="Enter your Password"></div><div class="error-container" ng-show="suf.mypassword.$error.minlength">Password should be min length of 6 container</div><div class="form-group"><input type="password" class="form-control text-center" ng-model="signup.passwordConfirm" required="" minlength="6" match="signup.password" name="myConfirmPassword" placeholder="Enter your Password Again"><div class="error-container" ng-show="suf.myConfirmPassword.$error.minlength">Password should be min length of 6 container</div><div class="error-container" ng-show="suf.myConfirmPassword.$error.match">Passwords do not match!</div></div></div></div><div class="container-fluid>"><div class="row-fluid"><div class="col-xs-2 col-md-push-4"><button type="submit" class="btn btn-default btn-wide"><i class="fa fa-stack fa-lg fa fa-thumbs-o-up"></i><br>Signup</button></div><div class="col-xs-2 col-md-push-4"><div class="btn btn-default btn-wide" ng-click="signup.doReset()"><span class="fa fa-stack fa-lg"><span class="fa fa-undo"></span></span><br>Reset</div></div></div></div></form></div></div></div>'),e.put("app/dashboard/views/site.html",'<div id="site"><ng-include src="ctrl.templateUrl"></ng-include><div class="col-md-8 col-md-push-2"><div class="widget-modal"><div class="widget-modal-heading">Select Your Dashboard</div><div class="widget-modal-body"><div class="row"><div class="col-xs-8"><input type="search" id="filter" class="form-control text-center" ng-model="ctrl.search" placeholder="Type to find dashboard"></div><div class="col-xs-2"><div class="btn btn-default" ng-click="ctrl.createDashboard()"><span class="fa fa-stack fa-lg"><span class="fa-circle-thin fa-stack-2x"></span> <span class="fa-plus fa-stack-1x"></span></span><br>Create a new dashboard</div></div></div><div class="row"><div class="col-xs-4"><h5>All Dashboard\'s</h5><div class="text-center" ng-hide="ctrl.dashboards">Loading Dashboards...</div><ul class="list-animate list-group text-left"><li class="list-group-item clickable" ng-click="ctrl.open(item.id)" ng-repeat="item in filteredDashboards = (ctrl.dashboards | filter:ctrl.search | orderBy:\'name\')">{{item.name}} <span class="pull-right fa fa-lg"><span class="fa-angle-right fa-lg"></span></span></li></ul><div class="text-center" ng-show="ctrl.dashboards && !filteredDashboards.length">No results</div></div><div class="col-xs-4"><h5>My Dashboard\'s <span class="label label-default"></span></h5><div class="text-center" ng-hide="ctrl.mydash">Loading Your Dashboards...</div><div class="text-center" ng-show="ctrl.mydash && !mydashboards.length">No results</div><ul class="list-animate list-group text-left"><li class="list-group-item" ng-repeat="myitem in mydashboards = (ctrl.mydash | filter:ctrl.search | orderBy: \'name\')"><a href="" ng-click="ctrl.open(myitem.id)">{{ myitem.name }}</a> <span class="pull-right fa fa-lg"><a href="" ng-click="ctrl.deleteDashboard(myitem.id)"><span class="fa-trash fa-lg text-danger"></span></a></span></li></ul><p>{{ctrl.filter}}</p></div></div></div></div></div></div>'),e.put("app/dashboard/views/widget.html",'<alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert><div class="widget row" ng-class="{\'configure\' : state == widget_state.CONFIGURE, \'alert\': display == display_state.ERROR}"><div class="widget-heading">{{title}} <span class="widget-settings-icon clickable pull-right fa fa-cog" type="button" ng-if="widgetDefinition && widgetDefinition.config && state == widget_state.READY" ng-click="checkPermission()"></span> <span class="pull-right last-updated">{{lastUpdatedDisplay}}</span></div><div class="widget-body"><div class="widget-body-main"></div><div class="widget-body-config clickable" ng-click="checkPermission()"><div><div class="fa fa-cog fa-lg"></div><div>Configure<br>widget</div></div></div></div></div>'),e.put("components/widgets/build/directives/averageBuildDuration.html",'<div class="widget average-build-duration"><div class="widget-heading">Average build duration</div><div class="widget-body"><chartist class="ct-chart ct-major-twelfth" chartist-chart-type="Bar" chartist-data="buildView.buildDurationData" chartist-chart-options="buildView.buildDurationOptions" chartist-events="buildView.buildDurationEvents"></chartist></div></div>'),e.put("components/widgets/build/directives/buildsPerDay.html",'<div class="widget"><div class="widget-heading">Builds per day</div><div class="widget-body"><chartist class="ct-chart ct-major-twelfth" chartist-chart-type="Line" chartist-data="buildView.lineData" chartist-chart-options="buildView.lineOptions"></chartist></div></div>'),e.put("components/widgets/build/directives/latestBuilds.html",'<div class="widget"><div class="widget-heading">Latest Builds</div><div class="widget-body latest-builds"><div class="dash-row clickable" ng-repeat="build in buildView.recentBuilds" ng-click="buildView.detail(build)"><span dash-status="{{build.passed}}"></span> <span class="build-number">{{::build.number}}</span> <span class="text-standard-date">{{::build.endTime | fromNow}}</span> <span class="build-chevron pull-right fa fa-lg fa-angle-right"></span></div></div></div>'),e.put("components/widgets/build/directives/totalBuilds.html",'<div class="widget"><div class="widget-heading">Total Builds</div><div class="widget-body" fit-text=".build-summary-count > span" fit-text-max="40"><div class="row"><div class="col-xs-4"><div class="build-summary-count"><span>{{buildView.totalBuildsYesterday}}</span></div><div class="build-summary-type">Today</div></div><div class="col-xs-4"><div class="build-summary-count"><span>{{buildView.totalBuildsLastWeek}}</span></div><div class="build-summary-type">Last<br>7 Days</div></div><div class="col-xs-4"><div class="build-summary-count"><span>{{buildView.totalBuildsLastMonth}}</span></div><div class="build-summary-type">Last<br>14 Days</div></div></div></div></div>')
}]);